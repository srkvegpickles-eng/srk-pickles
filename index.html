<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SRK Pickles â€“ Online Store</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fffdf7;
      --accent: #0f5b4f;
      --accent-2: #c0392b;
      --accent-3: #f39c12;   /* warm yellow/orange */
      --accent-4: #8e44ad;   /* purple for powders */
      --card: #ffffff;
      --muted: #7a6a60;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont,
                   "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: #222;
      line-height: 1.5;
    }

    header {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 14px 18px;
      background: linear-gradient(90deg, #f7e8d9, #fffefc);
      border-bottom: 1px solid #eee;
      position: sticky;
      top: 0;
      z-index: 20;
    }
    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .logo-wrap img {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      object-fit: cover;
      box-shadow: 0 6px 18px rgba(16,24,40,0.14);
    }
    .brand {
      font-weight: 800;
      font-size: 22px;
      color: var(--accent);
    }
    .tagline {
      font-size: 13px;
      color: var(--muted);
    }

    nav {
      display: flex;
      gap: 10px;
      margin-left: 24px;
      flex-wrap: wrap;
    }
    nav a {
      text-decoration: none;
      font-size: 14px;
      font-weight: 700;
      padding: 8px 10px;
      border-radius: 999px;
      color: var(--accent-2);
      background: #fff;
      border: 1px solid rgba(192,57,43,0.12);
    }

    .search-wrap {
      margin-left: auto;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .search-wrap input {
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #e6dcd1;
      font-size: 13px;
      width: 180px;
    }
    .btn-pill {
      border-radius: 999px;
      border: none;
      background: var(--accent-2);
      color: #fff;
      padding: 8px 12px;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-pill:hover {
      background: #a83224;
      box-shadow: 0 4px 10px rgba(192,57,43,0.25);
      transform: translateY(-1px);
    }

    .offer-banner {
      background: #c0392b;
      color: #fff;
      text-align: center;
      padding: 10px 6px;
      font-weight: 700;
      font-size: 15px;
    }
    .offer-banner span#countdown {
      font-weight: 800;
      margin-left: 8px;
    }

    main {
      max-width: 1180px;
      margin: 24px auto;
      padding: 0 16px 40px;
    }
    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.75fr) minmax(0, 0.9fr);
      gap: 18px;
      align-items: flex-start;
    }
    .right-column {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    h2.section-title {
      margin: 18px 0 10px;
      color: #4d3825;
      font-size: 20px;
      position: relative;
      padding-bottom: 4px;
    }
    h2.section-title::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 60px;
      height: 3px;
      border-radius: 999px;
      background: linear-gradient(90deg,#c0392b,#f1b27a);
    }

    .section-subtext {
      margin: 2px 0 12px;
      font-size: 13px;
      color: var(--muted);
    }

    section.products-wrapper,
    .info-section,
    .reviews-section,
    .qr-poster,
    .my-orders-section {
      scroll-margin-top: 90px;
    }

    section.products-wrapper {
      background:#fffdf9;
      border-radius:18px;
      border:1px solid #f1e1d5;
      padding:12px 12px 18px;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 14px;
    }
    .product-card {
      background: var(--card);
      border-radius: 14px;
      border: 2px solid #e6dcd1;
      padding: 10px;
      display: flex;
      gap: 10px;
      align-items: flex-start;
      box-shadow: 0 4px 14px rgba(16,24,40,0.05);
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
      position: relative;
      overflow: hidden;
    }
    .product-card img {
      width: 90px;
      height: 90px;
      border-radius: 12px;
      object-fit: cover;
      flex-shrink: 0;
    }
    .product-card h4 {
      margin: 0 0 4px;
      font-size: 15px;
      color: var(--accent);
    }
    .product-desc {
      font-size: 13px;
      color: var(--muted);
    }
    .price-line {
      margin-top: 6px;
      font-size: 13px;
    }
    .price-main {
      color: var(--accent-2);
      font-weight: 700;
    }
    .price-save {
      font-size: 12px;
      color: #0f5b4f;
      margin-top: 2px;
    }
    .product-actions {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
    }
    .product-actions select,
    .product-actions input {
      padding: 5px 6px;
      border-radius: 8px;
      border: 1px solid #e6dcd1;
      font-size: 12px;
    }
    .product-actions input {
      width: 50px;
      text-align: center;
    }
    .btn-add {
      background: var(--accent-2);
      color: #fff;
      border-radius: 8px;
      border: none;
      padding: 7px 10px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-add:hover {
      background: #a83224;
      box-shadow: 0 4px 10px rgba(192,57,43,0.25);
      transform: translateY(-1px);
    }

    .badge-wrapper {
      display:flex;
      flex-wrap:wrap;
      gap:4px;
      margin-bottom:4px;
    }
    .badge {
      display:inline-block;
      font-size:11px;
      font-weight:700;
      border-radius:999px;
      padding:2px 8px;
      border:1px solid transparent;
    }
    .badge-bestseller {
      color:#c0392b;
      background:#ffe9df;
      border-color:#f7c0a0;
    }
    .badge-offer {
      color:#0f5b4f;
      background:#e6fff5;
      border-color:#9de0c0;
    }
    .badge-combo {
      color:#8b4b0f;
      background:#fff3d6;
      border-color:#f4cf84;
    }

    .cart-box {
      position: sticky;
      top: 100px;
      background: #ffffff;
      border-radius: 16px;
      border: 1px solid #efe7df;
      padding: 14px;
      box-shadow: 0 6px 18px rgba(16,24,40,0.06);
    }
    .cart-box h3 {
      margin: 0 0 6px;
      font-size: 18px;
      color: var(--accent);
    }
    .cart-items {
      max-height: 260px;
      overflow-y: auto;
      margin: 8px 0 10px;
      padding-right: 2px;
    }
    .cart-empty {
      font-size: 13px;
      color: var(--muted);
    }
    .cart-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      padding: 6px 0;
      border-bottom: 1px dashed #f0e6de;
      font-size: 12px;
    }
    .cart-row:last-child { border-bottom: none; }
    .cart-row-title {
      font-weight: 600;
      color: #4d3825;
      margin-bottom: 2px;
    }
    .cart-row-sub {
      color: var(--muted);
      font-size: 11px;
    }
    .cart-row-controls button {
      border-radius: 999px;
      border: none;
      background: #f3e6dd;
      padding: 2px 7px;
      margin-left: 3px;
      cursor: pointer;
      font-size: 11px;
    }

    .cart-total-line {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      margin-top: 4px;
    }
    .cart-total-line strong {
      font-weight: 700;
    }
    .cart-note {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    .cart-form {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .cart-form label {
      font-size: 12px;
      margin-bottom: 2px;
    }
    .cart-form input,
    .cart-form textarea {
      padding: 8px;
      border-radius: 10px;
      border: 1px solid #e6dcd1;
      font-size: 13px;
      resize: vertical;
    }

    .payment-methods {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #e6dcd1;
      background: #fffdf9;
      font-size: 13px;
    }
    .payment-methods-title {
      font-weight: 700;
      margin-bottom: 6px;
      color: #4d3825;
    }
    .payment-option {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
      font-size: 13px;
    }
    .upi-info {
      font-size: 11px;
      color: #7a6a60;
      margin-top: 4px;
      line-height: 1.4;
    }

    .coupon-box {
      margin-top:10px;
      padding:8px 10px;
      border-radius:10px;
      border:1px dashed #e6dcd1;
      background:#fffdf9;
    }
    .coupon-box label {
      font-size:12px;
      font-weight:600;
      color:#4d3825;
    }
    .coupon-row {
      margin-top:6px;
      display:flex;
      gap:6px;
    }
    .coupon-row input {
      flex:1;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid #e6dcd1;
      font-size:12px;
    }
    .coupon-row button {
      border-radius:999px;
      border:none;
      padding:6px 10px;
      font-size:12px;
      font-weight:600;
      cursor:pointer;
      background:#c0392b;
      color:#fff;
    }
    .coupon-message {
      margin-top:4px;
      font-size:11px;
    }
    .coupon-message.ok { color:#0f5b4f; }
    .coupon-message.err { color:#c0392b; }

    .btn-checkout {
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 9px 10px;
      margin-top: 8px;
      font-size: 13px;
      font-weight: 800;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-checkout:hover {
      background: #094035;
      box-shadow: 0 4px 10px rgba(15,91,79,0.25);
      transform: translateY(-1px);
    }

    footer {
      margin-top: 22px;
      font-size: 12px;
      text-align: center;
      color: #8b6f5a;
    }
    .footer-links {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }
    .footer-links a {
      color: #8b6f5a;
      text-decoration: none;
      font-weight: 600;
      font-size: 11px;
    }

    .wa-float {
      position: fixed;
      width: 55px;
      height: 55px;
      bottom: 22px;
      right: 22px;
      background: #25d366;
      color: white;
      border-radius: 50%;
      text-align: center;
      font-size: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(16,24,40,0.25);
      z-index: 999;
    }

    .qr-poster {
      margin-top: 40px;
      padding: 20px;
      border-radius: 16px;
      background: #fff;
      border: 1px dashed #e0c8b8;
      text-align: center;
    }
    .qr-poster h3 {
      margin-top: 0;
      color: var(--accent);
    }
    .qr-poster img {
      margin: 10px auto;
      display: block;
      width: 260px;
      height: 260px;
    }

    .info-section {
      margin-top: 30px;
      padding: 18px 16px;
      border-radius: 14px;
      background: #fff;
      border: 1px solid #e6dcd1;
    }
    .info-section h3 {
      margin: 0 0 6px;
      font-size: 16px;
      color: var(--accent);
    }
    .info-section p,
    .info-section ul {
      margin: 4px 0;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.5;
    }
    .info-section ul {
      padding-left: 18px;
    }

    .my-orders-section {
      margin-top: 30px;
    }
    .my-orders-note {
      font-size: 12px;
      color: #7a6a60;
      margin: 4px 0 10px;
    }
    .orders-list {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .orders-empty {
      font-size: 13px;
      color: #7a6a60;
      padding: 10px 12px;
      border-radius: 10px;
      background: rgba(255,255,255,0.9);
      border: 1px dashed #e6dcd1;
    }
    .order-card {
      border-radius: 12px;
      border: 1px solid #f1e1d5;
      background: #fffdf9;
      padding: 10px 12px;
      box-shadow: 0 3px 8px rgba(16,24,40,0.04);
      font-size: 13px;
      color: #4d3825;
    }
    .order-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 4px;
    }
    .order-id {
      font-weight: 700;
      font-size: 13px;
      color: #0f5b4f;
    }
    .order-date {
      font-size: 11px;
      color: #7a6a60;
    }
    .order-total {
      font-weight: 700;
      font-size: 14px;
      color: #c0392b;
      white-space: nowrap;
    }
    .order-items {
      margin-top: 4px;
      font-size: 12px;
    }
    .order-items ul {
      margin: 4px 0;
      padding-left: 16px;
    }
    .order-items li {
      margin: 2px 0;
    }
    .order-meta {
      margin-top: 4px;
      font-size: 11px;
      color: #7a6a60;
    }
    .order-note {
      margin-top: 6px;
      font-size: 11px;
      color: #7a6a60;
    }

    .track-input-row {
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:8px;
    }
    .track-input-row input {
      flex:1;
      min-width:120px;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid #e6dcd1;
      font-size:12px;
    }
    .track-input-row button {
      border-radius:999px;
      border:none;
      padding:6px 12px;
      font-size:12px;
      font-weight:600;
      cursor:pointer;
      background:#0f5b4f;
      color:#fff;
    }
    .track-result {
      margin-top:10px;
      font-size:12px;
      color:#4d3825;
    }
    .track-result-empty {
      color:#7a6a60;
    }
    .track-summary {
      margin-top:4px;
      font-size:12px;
      color:#4d3825;
    }
    .track-steps {
      list-style:none;
      padding-left:0;
      margin:8px 0 0;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .track-step {
      display:flex;
      align-items:flex-start;
      gap:6px;
      font-size:12px;
    }
    .track-step-dot {
      width:10px;
      height:10px;
      border-radius:50%;
      margin-top:3px;
      border:2px solid #e0c8b8;
      background:#fff;
    }
    .track-step.active .track-step-dot {
      background:#0f5b4f;
      border-color:#0f5b4f;
    }
    .track-step-label {
      font-weight:600;
    }
    .track-step-desc {
      font-size:11px;
      color:#7a6a60;
    }
    .track-note {
      margin-top:8px;
      font-size:11px;
      color:#7a6a60;
    }

    .reviews-section {
      margin-top: 0;
      padding: 14px 12px 16px;
      border-radius: 16px;
      background: #fff;
      border: 1px solid #f1e1d5;
    }
    .reviews-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      margin-bottom: 4px;
    }
    .reviews-title {
      font-size: 16px;
      font-weight: 700;
      color: #4d3825;
    }
    .reviews-subtitle {
      font-size: 12px;
      color: #7a6a60;
    }
    .reviews-summary {
      text-align: right;
      font-size: 12px;
      color: #4d3825;
    }
    .reviews-stars {
      color: #f5a623;
      font-size: 15px;
      line-height: 1.1;
    }
    .reviews-count {
      font-size: 11px;
      color: #7a6a60;
    }
    .reviews-highlight {
      margin: 2px 0 6px;
      font-size: 12px;
      color: #0f5b4f;
      font-weight: 600;
    }

    .reviews-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
      margin-top: 6px;
    }
    .review-card {
      background: #fffdf9;
      border-radius: 12px;
      border: 1px solid #f1e1d5;
      padding: 8px 9px;
      font-size: 13px;
      color: #4d3825;
      box-shadow: 0 3px 8px rgba(16,24,40,0.04);
    }
    .review-stars {
      color: #f5a623;
      font-size: 13px;
      margin-bottom: 2px;
    }
    .review-text {
      font-size: 12px;
      margin-bottom: 4px;
    }
    .review-user {
      font-size: 11px;
      color: #7a6a60;
    }
    .review-user span {
      font-weight: 600;
      color: #4d3825;
    }

    .review-form {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px dashed #f1e1d5;
    }
    .review-form-title {
      font-size: 13px;
      font-weight: 700;
      color: #4d3825;
      margin-bottom: 4px;
    }
    .review-form-row {
      display: flex;
      gap: 6px;
      margin-bottom: 6px;
    }
    .review-form-row input,
    .review-form-row select,
    .review-form textarea {
      width: 100%;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #e6dcd1;
      font-size: 12px;
      font-family: inherit;
    }
    .review-form textarea {
      resize: vertical;
      min-height: 50px;
    }
    .review-form button {
      border-radius: 999px;
      border: none;
      padding: 7px 10px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      background: #0f5b4f;
      color: #fff;
      margin-top: 2px;
    }
    .review-form-note {
      font-size: 11px;
      color: #7a6a60;
      margin-top: 4px;
    }

    .referral-box {
      margin-top: 0;
      padding: 12px 12px 14px;
      border-radius: 16px;
      background:#fff;
      border:1px solid #e6dcd1;
      font-size:13px;
    }
    .referral-box h3 {
      margin:0 0 6px;
      font-size:15px;
      color:#4d3825;
    }
    .referral-input-row {
      display:flex;
      gap:6px;
      margin-top:6px;
    }
    .referral-input-row input {
      flex:1;
      padding:6px 8px;
      border-radius:999px;
      border:1px solid #e6dcd1;
      font-size:12px;
    }
    .referral-actions {
      margin-top:6px;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
    }
    .referral-actions button {
      border-radius:999px;
      border:none;
      padding:6px 10px;
      font-size:12px;
      cursor:pointer;
      background:#0f5b4f;
      color:#fff;
    }
    .referral-link-output {
      margin-top:6px;
      font-size:12px;
      color:#7a6a60;
      word-break:break-all;
    }

    .modal-backdrop {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.4);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
    }
    .modal-backdrop.show {
      display:flex;
    }
    .modal {
      position:relative;
      background:#fffdf9;
      padding:16px 18px 18px;
      border-radius:16px;
      max-width:320px;
      width:90%;
      box-shadow:0 10px 30px rgba(0,0,0,0.3);
      border:1px solid #f1e1d5;
      font-size:14px;
      color:#4d3825;
    }
    .modal h3 {
      margin-top:0;
      margin-bottom:8px;
      font-size:18px;
      color:#c0392b;
    }
    .modal-close {
      position:absolute;
      top:6px;
      right:10px;
      border:none;
      background:transparent;
      font-size:20px;
      cursor:pointer;
    }

    @media (max-width: 900px) {
      header { flex-wrap: wrap; }
      nav { margin-left: 0; }
      .layout { grid-template-columns: minmax(0,1fr); }
      .products-grid { grid-template-columns: minmax(0,1fr); }
      .cart-box { position: static; margin-top: 20px; }
    }

    @media (max-width: 600px) {
      .offer-banner {
        font-size: 13px;
        padding: 8px 4px;
      }
      header {
        padding: 10px 12px;
      }
      .brand {
        font-size: 18px;
      }
      .tagline {
        font-size: 12px;
      }
      .product-card {
        padding: 8px;
      }
      main {
        padding-bottom: 60px;
      }
      .wa-float {
        bottom: 16px;
        right: 16px;
      }
    }

    .highlight {
      box-shadow: 0 8px 26px rgba(192,57,43,0.12);
      transform: translateY(-2px);
      transition: box-shadow 0.25s ease, transform 0.25s ease;
    }

    /* Visual polish */
    body {
      background:
        radial-gradient(circle at top left, #ffe8c7 0, #fffdf7 40%, #fffaf0 100%);
    }
    header {
      box-shadow: 0 8px 22px rgba(15, 91, 79, 0.12);
      border-bottom: none;
    }
    nav a {
      position: relative;
      overflow: hidden;
    }
    nav a::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: 6px;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg,#c0392b,#f1b27a);
      transform: translateX(-50%);
      transition: width 0.2s ease;
    }
    nav a:hover::after {
      width: 70%;
    }

    .offer-banner {
      position: relative;
      box-shadow: 0 6px 18px rgba(192,57,43,0.3);
    }
    .offer-banner::before {
      content: "ğŸ”¥";
      margin-right: 6px;
    }

    .products-wrapper,
    .cart-box,
    .reviews-section,
    .referral-box,
    .info-section,
    .qr-poster {
      background: rgba(255, 253, 249, 0.96);
      backdrop-filter: blur(8px);
    }

    .cart-box,
    .reviews-section,
    .referral-box {
      box-shadow: 0 10px 26px rgba(16,24,40,0.12);
    }

    .info-section:nth-of-type(odd) {
      background: #fff8f0;
    }
    .info-section:nth-of-type(even) {
      background: #ffffff;
    }

    .product-card {
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
    }
    .product-card:hover {
      transform: translateY(-4px) scale(1.01);
      box-shadow: 0 12px 24px rgba(15, 91, 79, 0.18);
    }

    .btn-pill,
    .btn-add,
    .btn-checkout {
      letter-spacing: 0.02em;
    }

    @keyframes srk-breathe {
      0% { transform: translateY(0) scale(1); box-shadow: 0 4px 10px rgba(15,91,79,0.25); }
      50% { transform: translateY(-1px) scale(1.01); box-shadow: 0 8px 20px rgba(15,91,79,0.35); }
      100% { transform: translateY(0) scale(1); box-shadow: 0 4px 10px rgba(15,91,79,0.25); }
    }
    .btn-checkout {
      animation: srk-breathe 3.2s ease-in-out infinite;
    }

    .reviews-section {
      border: 1px solid #f4c9a3;
    }
    .review-card {
      border-radius: 14px;
    }

    footer {
      margin-top: 40px;
      padding: 16px 10px 22px;
      background: linear-gradient(90deg,#f7e8d9,#fffaf3);
      border-top: 1px solid #f1e1d5;
    }
    .footer-links a:hover {
      text-decoration: underline;
    }

    .hero-section {
      max-width: 1180px;
      margin: 18px auto 0;
      padding: 22px 18px;
      display: flex;
      gap: 24px;
      align-items: center;
      border-radius: 20px;
      background:
        radial-gradient(circle at top left, rgba(255,255,255,0.7) 0, rgba(255,255,255,0) 50%),
        linear-gradient(135deg,#ffe0b2,#fff3e0);
      box-shadow: 0 12px 30px rgba(193, 125, 52, 0.35);
    }
    .hero-section > div:first-child h1 {
      font-size: 28px;
    }
    .hero-section > div:last-child {
      border-radius: 18px;
      border: 1px dashed rgba(255,255,255,0.7);
    }
    @media (max-width: 900px) {
      .hero-section {
        flex-direction: column;
      }
    }

    .why-strip {
      max-width: 1180px;
      margin: 16px auto 0;
      padding: 10px 18px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      align-items: stretch;
      text-align: left;
    }
    .why-item {
      padding: 10px 12px;
      border-radius: 14px;
      background: linear-gradient(
        135deg,
        rgba(255,255,255,0.95),
        rgba(255, 243, 224, 0.9)
      );
      border: 1px solid #f1e1d5;
      font-size: 13px;
      color: #4d3825;
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }
    .why-icon {
      font-size: 18px;
      line-height: 1;
      margin-top: 1px;
    }
    .why-text-title {
      font-weight: 700;
      margin-bottom: 2px;
    }
    @media (max-width: 800px) {
      .why-strip {
        grid-template-columns: minmax(0,1fr);
      }
    }

    /* --- Category based colors for product cards --- */
    .product-pickles {
      border-color: rgba(192, 57, 43, 0.25);
      background-image: linear-gradient(
        135deg,
        rgba(192,57,43,0.06),
        rgba(255,255,255,0.9)
      );
    }
    .product-powders {
      border-color: rgba(142, 68, 173, 0.25);
      background-image: linear-gradient(
        135deg,
        rgba(142,68,173,0.06),
        rgba(255,255,255,0.95)
      );
    }
    .product-combos {
      border-color: rgba(243, 156, 18, 0.35);
      background-image: linear-gradient(
        135deg,
        rgba(243,156,18,0.10),
        rgba(255,255,255,0.96)
      );
    }

    /* Color strip on top of cards */
    .product-card::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 4px;
      width: 100%;
      background: linear-gradient(90deg, var(--accent-2), var(--accent-3));
      opacity: 0.7;
    }
    .product-powders::before {
      background: linear-gradient(90deg, var(--accent-4), #f5b7b1);
    }
    .product-combos::before {
      background: linear-gradient(90deg, var(--accent-3), #2ecc71);
    }

    /* More colorful section headings */
    h2.section-title {
      background: linear-gradient(90deg, rgba(255,255,255,0.9), rgba(243, 156, 18, 0.08));
      padding: 6px 10px 8px;
      border-radius: 12px;
    }
    h2.section-title::after {
      height: 4px;
    }

    /* Colorful badges tweak */
    .badge-bestseller {
      background: linear-gradient(90deg,#ffe9df,#fdebd0);
    }
    .badge-offer {
      background: linear-gradient(90deg,#e6fff5,#d5f5e3);
    }
    .badge-combo {
      background: linear-gradient(90deg,#fff3d6,#fdebd0);
    }

    /* My Orders & Track sections soft tints */
    .my-orders-section {
      background: linear-gradient(
        135deg,
        rgba(46, 204, 113, 0.05),
        rgba(255,255,255,0.95)
      );
    }
    #track-order.info-section {
      background: linear-gradient(
        135deg,
        rgba(52, 152, 219, 0.06),
        rgba(255,255,255,0.96)
      );
    }

    /* Free delivery gradient text */
    .delivery-free {
      background: linear-gradient(90deg, #2ecc71, #f1c40f);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 800;
    }
    /* ======= PREMIUM MENU ======= */

.main-nav {
  display: flex;
  align-items: center;
  margin-left: 20px;
}

.nav-left {
  display: flex;
  gap: 8px;
  align-items: center;
  background: rgba(255,255,255,0.7);
  backdrop-filter: blur(10px);
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15,91,79,0.15);
  box-shadow: 0 6px 18px rgba(15,91,79,0.12);
}

.main-nav a {
  text-decoration: none;
  font-size: 13px;
  font-weight: 700;
  padding: 7px 12px;
  border-radius: 999px;
  color: var(--accent);
  position: relative;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.main-nav a:hover {
  background: linear-gradient(135deg,#ffe0b2,#fff3e0);
  color: var(--accent-2);
  transform: translateY(-1px);
}

.main-nav a.active {
  background: linear-gradient(135deg,#c0392b,#e67e22);
  color: #fff;
  box-shadow: 0 6px 14px rgba(192,57,43,0.35);
}

/* underline glow */
.main-nav a::after {
  content:"";
  position:absolute;
  left:50%;
  bottom:3px;
  width:0;
  height:2px;
  background:#c0392b;
  border-radius:999px;
  transform:translateX(-50%);
  transition:0.2s;
}

.main-nav a:hover::after {
  width:60%;
}

/* ======= MOBILE MENU ======= */

.menu-toggle {
  display: none;
  border: none;
  background: linear-gradient(135deg,#0f5b4f,#1abc9c);
  color: #fff;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(15,91,79,0.35);
}

@media (max-width: 900px) {
  .menu-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .nav-left {
    position: absolute;
    top: 78px;
    left: 10px;
    right: 10px;
    flex-direction: column;
    align-items: stretch;
    border-radius: 18px;
    padding: 10px;
    display: none;
    animation: menuDrop 0.25s ease;
  }

  .nav-left.show {
    display: flex;
  }

  .main-nav a {
    text-align: center;
    padding: 10px;
    font-size: 14px;
  }
}

@keyframes menuDrop {
  from { opacity:0; transform: translateY(-8px); }
  to { opacity:1; transform: translateY(0); }
}
    /* ======= MENU LOGIC ======= */

  </style>
</head>

<body>
<header>
  <div class="logo-wrap">
    <img src="srk-logo.png" alt="SRK Pickles Logo" />
    <div>
      <div class="brand">SRK Pickles</div>
      <div class="tagline">Flavor Crafted.</div>
    </div>
  </div>

  <nav class="main-nav">
  <div class="nav-left">
    <button class="menu-toggle" id="menuToggle">â˜°</button>
    <a href="#pickles">ğŸ¥­ Pickles</a>
    <a href="#powders">ğŸŒ¶ Powders</a>
    <a href="#combos">ğŸ Combos</a>
    <a href="#offers">ğŸ”¥ Offers</a>
    <a href="#reviews">â­ Reviews</a>
    <a href="#my-orders">ğŸ“¦ My Orders</a>
    <a href="#track-order">ğŸšš Track</a>
  </div>
</nav>
  </nav>

  <div class="search-wrap">
    <input id="search" placeholder="Search products..." />
    <button class="btn-pill" id="cart-button" type="button">
      Cart (<span id="cart-count">0</span>)
    </button>
  </div>
</header>

<div class="offer-banner">
  ğŸ‰ Festive Offer: Extra savings on your SRK Pickles order!
  <span id="countdown"></span>
</div>

<section class="hero-section">
  <div style="flex:1;">
    <h1 style="margin:0 0 8px;font-size:26px;color:#0f5b4f;">
      Authentic Homemade Andhra Pickles
    </h1>
    <p style="margin:0 0 14px;font-size:14px;color:#7a6a60;max-width:420px;">
      Small-batch, preservative-free pickles and powders made with handpicked ingredients.
      Perfect with hot rice, idly, dosa and every home meal.
    </p>
    <button onclick="document.getElementById('pickles').scrollIntoView({behavior:'smooth'})"
      style="
        border:none;
        border-radius:999px;
        padding:10px 18px;
        background:#c0392b;
        color:#fff;
        font-size:14px;
        font-weight:700;
        cursor:pointer;
      ">
      Shop Bestselling Pickles
    </button>
  </div>
  <div style="
    flex:1;
    min-height:140px;
    border-radius:18px;
    background:linear-gradient(135deg,#ffe0b2,#fff3e0);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:14px;
    color:#4d3825;
    padding:16px;
  ">
    100% Homemade â€¢ No Preservatives â€¢ Ships Across India
  </div>
</section>

<section class="why-strip" aria-label="Why SRK Pickles">
  <div class="why-item">
    <div class="why-icon">ğŸ¥„</div>
    <div>
      <div class="why-text-title">100% Homemade Taste</div>
      <div>Traditional Andhra recipes prepared in small batches, just like we make at home.</div>
    </div>
  </div>
  <div class="why-item">
    <div class="why-icon">ğŸ§´</div>
    <div>
      <div class="why-text-title">No Preservatives Added</div>
      <div>We rely on quality oil, spices and hygiene â€“ not harsh chemicals.</div>
    </div>
  </div>
  <div class="why-item">
    <div class="why-icon">ğŸ“¦</div>
    <div>
      <div class="why-text-title">Neat Packing & Delivery</div>
      <div>Leak-proof packing and WhatsApp updates until your order reaches safely.</div>
    </div>
  </div>
</section>

<main>
  <div class="layout">
    <section class="products-wrapper">
      <h2 id="pickles" class="section-title">Pickles</h2>
      <p class="section-subtext">
        ğŸ§‚ Prepared in fresh small batches every week â€¢ ğŸ—“ï¸ Best before 6 months from packing (when stored in a cool, dry place).
      </p>
      <div id="pickles-list" class="products-grid"></div>

      <h2 id="powders" class="section-title">Powders</h2>
      <div id="powders-list" class="products-grid"></div>

      <h2 id="combos" class="section-title">Combos (Best Value)</h2>
      <div id="combos-list" class="products-grid"></div>
    </section>

    <div class="right-column">
      <aside class="cart-box">
        <h3>Your Cart</h3>
        <div id="cart-items" class="cart-items cart-empty">No items in cart</div>

        <div class="cart-total-line">
          <span>Subtotal</span>
          <span id="cart-subtotal">Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <span>Auto Discount</span>
          <span id="cart-auto-discount">- Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <span>Coupon Discount</span>
          <span id="cart-coupon-discount">- Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <span>Delivery</span>
          <span id="cart-delivery">Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <strong>Total Payable</strong>
          <strong id="cart-grand">Rs. 0</strong>
        </div>
        <div class="cart-note">
          Delivery rule: <strong class="delivery-free">Free delivery for orders above Rs.1200</strong>, otherwise flat Rs.80.
        </div>

        <div class="cart-form">
          <div>
            <label for="cust-name">Customer Name</label>
            <input id="cust-name" placeholder="Name" />
          </div>
          <div>
            <label for="cust-phone">Phone Number</label>
            <input id="cust-phone" placeholder="Phone number" />
          </div>
          <div>
            <label for="cust-address">Address</label>
            <textarea id="cust-address" rows="3" placeholder="Delivery address"></textarea>
          </div>
        </div>

        <div class="payment-methods">
          <div class="payment-methods-title">Payment Method</div>
         <label class="payment-option">
          <input type="radio" name="payment" value="UPI" checked />
          UPI (PhonePe / Google Pay / Paytm / BHIM)
        </label>
        <label class="payment-option">
         <input type="radio" name="payment" value="Cash on Delivery" />
          Cash on Delivery (COD)
        </label>
         <div class="upi-info">
          UPI Mobile Number: <strong>70755 35180</strong><br/>
          UPI ID: <strong>tarunkrishna7651@ybl</strong><br/>
          After payment, please share screenshot / UTR on WhatsApp.
        </div>
      </div>
        <div class="coupon-box">
          <label for="coupon-code">Have a coupon?</label>
          <div class="coupon-row">
            <input id="coupon-code" placeholder="Enter code (e.g., SRKWELCOME)" />
            <button type="button" id="apply-coupon-btn">Apply</button>
          </div>
          <div id="coupon-message" class="coupon-message"></div>
        </div>

        <button id="btn-pay-now" class="btn-checkout" style="background:#c0392b;">
        ğŸ’³ Pay Now (UPI)
        </button>
        <button id="btn-wa-order" class="btn-checkout" style="margin-top:6px;">
        âœ… Place Order on WhatsApp
        </button>

        <div style="font-size:11px;color:#7a6a60;margin-top:6px;text-align:center;">
        After UPI payment, click â€œPlace Order on WhatsAppâ€ and send screenshot / UTR.
        </div>

      </aside>

      <section class="reviews-section" id="reviews" aria-label="Customer Reviews">
        <div class="reviews-header">
          <div>
            <div class="reviews-title">Customer Reviews</div>
            <div class="reviews-subtitle">Real feedback from homes that love SRK Pickles.</div>
          </div>
          <div class="reviews-summary" id="reviews-summary">
            <div class="reviews-stars" id="reviews-average-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="reviews-count" id="reviews-count">4.9/5 based on 120+ orders</div>
          </div>
        </div>

        <div class="reviews-highlight">
          â­ 4.9/5 rating from happy homes across Andhra &amp; Telangana.
        </div>

        <div class="reviews-grid" id="reviews-grid" tabindex="0" aria-live="polite">
          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="review-text">
              â€œGongura and Mango (with garlic) are just like my mom used to make. Perfect spice and very fresh.â€
            </div>
            <div class="review-user">
              <span>Bhavani,</span> Vijayawada
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="review-text">
              â€œKandi podi and Idly chutney podi are must-try! Our breakfast became so easy and tasty.â€
            </div>
            <div class="review-user">
              <span>Ramesh &amp; Priya,</span> Hyderabad
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
            <div class="review-text">
              â€œPacking was neat, no leakage. Bellam Avakaya is our family favourite now.â€
            </div>
            <div class="review-user">
              <span>Sowjanya,</span> Bengaluru
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="review-text">
              â€œGinger pickle is a killer with hot rice and ghee. Ordered again for my parents too.â€
            </div>
            <div class="review-user">
              <span>Tarun,</span> Guntur
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="review-text">
              â€œLoved the homemade taste. No strong preservatives smell, just pure Andhra flavours.â€
            </div>
            <div class="review-user">
              <span>Meghana,</span> Visakhapatnam
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
            <div class="review-text">
              â€œDelivery was a day late but the taste made up for it. Tomato and Lemon pickle are superb.â€
            </div>
            <div class="review-user">
              <span>Rahul,</span> Chennai
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
            <div class="review-text">
              â€œReached on time, packing was very neat and there was zero leakage. Family loved the taste and service.â€
            </div>
            <div class="review-user">
              <span>Anitha,</span> Rajahmundry
            </div>
          </article>
        </div>

        <div class="review-form">
          <div class="review-form-title">Post your review</div>
          <div class="review-form-row">
            <input id="review-name" placeholder="Your name" />
            <input id="review-location" placeholder="City / Place (optional)" />
          </div>
          <div class="review-form-row">
            <select id="review-rating">
              <option value="">Rating (1â€“5)</option>
              <option value="5">â˜…â˜…â˜…â˜…â˜… â€“ Loved it</option>
              <option value="4">â˜…â˜…â˜…â˜…â˜† â€“ Very good</option>
              <option value="3">â˜…â˜…â˜…â˜†â˜† â€“ Good</option>
              <option value="2">â˜…â˜…â˜†â˜†â˜† â€“ Okay</option>
              <option value="1">â˜…â˜†â˜†â˜†â˜† â€“ Not happy</option>
            </select>
          </div>
          <div class="review-form-row">
            <textarea id="review-text" placeholder="Write about the taste, packing, delivery experience..."></textarea>
          </div>
          <button type="button" id="review-submit">Submit Review</button>
          <div class="review-form-note">
            Your review will appear here on this device. For public testimonials, we may also share highlights on our social media.
          </div>
        </div>
      </section>

      <section class="referral-box" id="referral">
        <h3>Share & Earn</h3>
        <p style="margin:0;font-size:12px;color:#7a6a60;">
          Share your referral link with friends. On every successful order, both of you can get a discount
          (as per SRK Pickles offer).
        </p>
        <div class="referral-input-row">
          <input id="ref-name" placeholder="Your name or phone (for ref code)" />
        </div>
        <div class="referral-actions">
          <button type="button" id="ref-generate">Generate Link</button>
          <button type="button" id="ref-share-wa">Share on WhatsApp</button>
        </div>
        <div id="ref-output" class="referral-link-output"></div>
      </section>
    </div>
  </div>

  <section class="qr-poster">
    <h3>Scan to Order on WhatsApp</h3>
    <p>Show this QR in your shop or events. Customers can scan and chat directly with SRK Pickles.</p>
    <img
      src="https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=https%3A%2F%2Fwa.me%2F917075535180"
      alt="WhatsApp Order QR"
    />
    <p>WhatsApp: +91 70755 351 80</p>
  </section>

  <section id="my-orders" class="info-section my-orders-section">
    <h3>My Orders</h3>
    <p class="my-orders-note">
      This section shows the orders placed from this browser/device using the
      <strong>â€œPlace Order on WhatsAppâ€</strong> button. For live delivery status, you can reply on WhatsApp
      with your <strong>Order ID</strong>.
    </p>
    <div id="orders-list" class="orders-list"></div>
  </section>

  <section id="track-order" class="info-section">
    <h3>Track My Order</h3>
    <p style="font-size:12px;color:#7a6a60;margin:4px 0 8px;">
      Enter your <strong>Order ID</strong> (shown in WhatsApp order message) and optionally the
      <strong>last 4 digits</strong> of your phone number. Weâ€™ll show an estimated status based on the order date.
    </p>
    <div class="track-input-row">
      <input id="track-order-id" placeholder="Order ID (e.g., SRK202511271230)" />
      <input id="track-order-phone" placeholder="Last 4 digits of phone (optional)" />
      <button type="button" id="track-order-btn">Track Order</button>
    </div>
    <div id="track-order-result" class="track-result track-result-empty">
      No order searched yet. Enter your Order ID above to check status.
    </div>
  </section>

  <section id="offers" class="info-section">
    <h3>Offers & Discounts â€“ How You Save</h3>
    <p>
      At <strong>SRK Pickles</strong>, we want you to enjoy more flavours at a better value. Here is how all our
      offers work. These are applied automatically in your cart.
    </p>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">1. Auto Discounts (No coupon needed)</h4>
    <ul>
      <li><strong>5% OFF</strong> on orders with subtotal <strong>â‚¹1500 or more</strong></li>
      <li><strong>10% OFF</strong> on orders with subtotal <strong>â‚¹2500 or more</strong></li>
      <li>This discount is applied automatically in the cart under <em>â€œAuto Discountâ€</em>.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">2. Coupon Codes</h4>
    <p>Enter coupon codes in the <strong>â€œHave a coupon?â€</strong> box in the cart.</p>
    <ul>
      <li><strong>SRKWELCOME</strong> â€“ â‚¹50 OFF on orders above â‚¹500 (for first-time customers)</li>
      <li><strong>FEST10</strong> â€“ 10% OFF on orders above â‚¹1000</li>
      <li><strong>PICKLELOVE</strong> â€“ 7% OFF on orders above â‚¹800</li>
      <li>Only one coupon can be applied per order. If the minimum amount is not reached, the coupon wonâ€™t apply.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">3. Combo Offers</h4>
    <p>Check the <strong>COMBOS</strong> section on top.</p>
    <ul>
      <li><strong>Family Pickle Combo 1</strong> â€“ Mango (with garlic), Ginger, Amla, Gongura â€“ 500g each (2kg total)</li>
      <li><strong>Family Pickle Combo 2</strong> â€“ Gongura, Lemon, Magaya, Tomato â€“ 500g each (2kg total)</li>
      <li>MRP for each combo is â‚¹1600, but you get it at <strong>â‚¹1450</strong> â€“ you save â‚¹150 per combo.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">4. Free Delivery Rule</h4>
    <ul>
      <li><strong>Free delivery</strong> for orders with subtotal <strong>â‚¹1200 or more</strong>.</li>
      <li>For orders below â‚¹1200, a flat delivery charge of <strong>â‚¹80</strong> is added.</li>
      <li>This is shown as <em>â€œDeliveryâ€</em> in your cart summary.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">5. Referral Benefits</h4>
    <ul>
      <li>Use the <strong>â€œShare & Earnâ€</strong> box on the right side to generate your personal referral link.</li>
      <li>Share it with friends and family on WhatsApp directly from the website.</li>
      <li>For every successful order through your referral (as per SRK Pickles policy), both you and your friend
          can get special discounts or extra offers.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">6. How Discounts Are Applied</h4>
    <ul>
      <li>Your bill summary shows:
        <ul>
          <li><strong>Subtotal</strong> â€“ total of all items</li>
          <li><strong>Auto Discount</strong> â€“ 5% or 10% based on subtotal</li>
          <li><strong>Coupon Discount</strong> â€“ if you have applied a valid coupon</li>
          <li><strong>Delivery</strong> â€“ based on free delivery rule</li>
          <li><strong>Total Payable</strong> â€“ final amount after all savings</li>
        </ul>
      </li>
      <li>Auto discount and coupon discount can both apply together, but total discount will never go above the subtotal.</li>
    </ul>

    <h4 style="margin:10px 0 4px;font-size:14px;color:#4d3825;">7. Payment & UPI Offers</h4>
    <ul>
      <li>You can choose <strong>PhonePe</strong>, <strong>Google Pay</strong> (UPI) or <strong>Cash on Delivery</strong>.</li>
      <li>For UPI, we share our UPI details and a payment link:
        <ul>
          <li>UPI ID: <strong>tarunkrishna7651@ybl</strong></li>
          <li>UPI Mobile: <strong>70755 35180</strong></li>
        </ul>
      </li>
      <li>After UPI payment, you can send the screenshot / UTR number on WhatsApp for quick confirmation.</li>
    </ul>

    <p style="margin-top:10px;">
      If you have any doubt about how a discount is applied on your cart, just place your order and we will clarify it
      on WhatsApp before confirming dispatch.
    </p>
  </section>

  <section id="cancellation" class="info-section">
    <h3>Cancellation & Refunds</h3>
    <p>
      Orders can be cancelled within <strong>2 hours</strong> of placing the order by contacting us on WhatsApp.
      Once the order is packed or shipped, cancellation may not be possible.
    </p>
    <p>Refunds are processed only for:</p>
    <ul>
      <li>Wrong product delivered</li>
      <li>Damaged or leaked packages (with unboxing photos/video proof)</li>
      <li>Order cancelled before dispatch</li>
    </ul>
    <p>
      Approved refunds will be initiated within <strong>5â€“7 working days</strong> to the original payment method.
    </p>
  </section>

  <section id="terms" class="info-section">
    <h3>Terms and Conditions</h3>
    <ul>
      <li>All products are homemade and prepared in small batches.</li>
      <li>Prices, offers and availability are subject to change without prior notice.</li>
      <li>Weights mentioned (500gm / 1kg) are approximate net weights at the time of packing.</li>
      <li>By placing an order, you agree to share your contact & address details for delivery and updates.</li>
      <li>In case of disputes, decision of SRK Pickles will be final.</li>
    </ul>
  </section>

  <section id="shipping" class="info-section">
    <h3>Shipping</h3>
    <p>
      We currently ship within India only. Shipping charges are calculated as per the rule mentioned above.
      In some remote locations, additional charges may apply â€“ we will inform you on WhatsApp before dispatch.
    </p>
    <p>
      Orders are usually dispatched within <strong>2â€“4 working days</strong>. Delivery time depends on your location
      and courier service (typically 3â€“7 days after dispatch).
    </p>
    <p>
      Once your order is shipped, tracking details will be shared on WhatsApp wherever available.
    </p>
  </section>

  <section id="privacy" class="info-section">
    <h3>Privacy</h3>
    <p>We value your privacy. Your name, phone number, address and order details are used only for:</p>
    <ul>
      <li>Processing and delivering your orders</li>
      <li>Order updates or support over WhatsApp / phone</li>
      <li>Occasional updates about offers (only if you choose to receive them)</li>
    </ul>
    <p>
      We do not sell or share your personal information with any third parties, except courier and payment partners
      who need the data to fulfil your order.
    </p>
  </section>

  <section id="contact" class="info-section">
    <h3>Contact Us</h3>
    <p>Have a question about orders, payments or custom combos? Reach out to us:</p>
    <ul>
      <li><strong>WhatsApp:</strong> <a href="https://wa.me/917075535180" target="_blank">+91 70755 351 80</a></li>
      <li><strong>Email:</strong> <a href="mailto:srkpicklescare@gmail.com">srkpicklescare@gmail.com</a></li>
      <li><strong>Timings:</strong> 9:00 AM â€“ 8:00 PM (IST), all days</li>
    </ul>
    <p>You can also use the cart form above, place your order, and we will confirm everything on WhatsApp.</p>
  </section>

  <footer>
    Â© SRK Pickles â€¢ Handmade in India â€¢ Hosted on GitHub Pages
    <div class="footer-links">
      <a href="#offers">Offers</a>
      <a href="#cancellation">Cancellation & Refunds</a>
      <a href="#terms">Terms & Conditions</a>
      <a href="#shipping">Shipping</a>
      <a href="#privacy">Privacy</a>
      <a href="#contact">Contact Us</a>
    </div>
  </footer>
</main>

<a href="https://wa.me/917075535180" class="wa-float" target="_blank">ğŸ’¬</a>

<div id="offer-modal" class="modal-backdrop">
  <div class="modal">
    <button class="modal-close" type="button" id="offer-close">Ã—</button>
    <h3>Welcome to SRK Pickles!</h3>
    <p>Get <strong>â‚¹50 OFF</strong> on your first order above â‚¹500.</p>
    <p>Use coupon code: <strong>SRKWELCOME</strong></p>
    <button type="button" id="offer-apply" class="btn-checkout" style="margin-top:10px;">
      Apply SRKWELCOME
    </button>
  </div>
</div>

<script>
  /* ===== MOBILE MENU LOGIC ===== */

document.addEventListener("DOMContentLoaded", function () {
  const menuToggle = document.getElementById("menuToggle");
  const navBox = document.querySelector(".nav-left");

  if (menuToggle && navBox) {
    menuToggle.addEventListener("click", () => {
      navBox.classList.toggle("show");
    });
  }

  const navLinks = document.querySelectorAll(".main-nav a");
  const sections = [...navLinks].map(a =>
    document.getElementById(a.getAttribute("href").substring(1))
  );

  window.addEventListener("scroll", () => {
    let current = "";
    sections.forEach(sec => {
      if (!sec) return;
      const top = sec.offsetTop - 120;
      if (pageYOffset >= top) current = sec.id;
    });

    navLinks.forEach(a => {
      a.classList.remove("active");
      if (a.getAttribute("href") === "#" + current) {
        a.classList.add("active");
      }
    });
  });

  navLinks.forEach(a => {
    a.addEventListener("click", () => {
      if (navBox.classList.contains("show")) {
        navBox.classList.remove("show");
      }
    });
  });
});

  const SHEETS_WEBHOOK_URL = "YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE";
  const OWNER_WHATSAPP_NUMBER = "917075535180";
  const UPI_ID = "tarunkrishna7651@ybl";
  const UPI_MOBILE = "7075535180";

  let APPLIED_COUPON = null;
  const COUPONS = {
    SRKWELCOME: { type: "flat", amount: 50, minSubtotal: 500, label: "â‚¹50 OFF on orders above â‚¹500" },
    FEST10: { type: "percent", amount: 10, minSubtotal: 1000, label: "10% OFF on orders above â‚¹1000" },
    PICKLELOVE: { type: "percent", amount: 7, minSubtotal: 800, label: "7% OFF when you enjoy your favourite pickles" }
  };

  const IMAGE_MAP = {
    "mango-garlic": "images/mango-garlic.jpg",
    "mango-no-garlic": "images/mango-plain.jpg",
    "magaya": "images/magaya.jpg",
    "bellam-avakaya": "images/bellam-avakaya.jpg",
    "tomato": "images/tomato.jpg",
    "gongura": "images/gongura.jpg",
    "ginger": "images/ginger.jpg",
    "red-chilli": "images/red-chilli.jpg",
    "tamarind": "images/tamarind.jpg",
    "amla": "images/amla.jpg",
    "lemon": "images/lemon.jpg",
    "kandi-podi": "images/kandi-podi.jpg",
    "karapu-podi": "images/karapu-podi.jpg",
    "karivepaku-podi": "images/karivepaku-podi.jpg",
    "idly-chutney-podi": "images/idly-chutney-podi.jpg",
    "sambar-podi": "images/sambar-podi.jpg",
    "rasam-podi": "images/rasam-podi.jpg",
    "combo-1": "images/combo-1.jpg",
    "combo-2": "images/combo-2.jpg"
  };

  const PRODUCTS = [
    { id:"mango-garlic", category:"pickles", name:"Mango Pickle (With Garlic)", desc:"Classic taste that stays with you forever - best of all.", prices:{ "250":200, "500":400, "1000":800 } },
    { id:"mango-no-garlic", category:"pickles", name:"Mango Pickle (Without Garlic)", desc:"Classic taste that stays with you forever - best of all.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"magaya", category:"pickles", name:"Magaya Pickle", desc:"Sun-dried Mango pickle. An aromatic preparation that is an all-time favourite.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"bellam-avakaya", category:"pickles", name:"Bellam Avakaya", desc:"Sweet Avakaya. Blend of classic Avakaya & jaggery.", prices:{ "250":200, "500":400, "1000":800 } },
    { id:"tomato", category:"pickles", name:"Tomato Pickle", desc:"Spicy, tangy and savoury tomato pickle.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"gongura", category:"pickles", name:"Gongura Pickle", desc:"Sorrel Leaves pickle, heartthrob of Telugu people.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"ginger", category:"pickles", name:"Ginger Pickle", desc:"Sweet and spicy ginger pickle for anytime and anything.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"red-chilli", category:"pickles", name:"Red Chilli Pickle", desc:"Red Chilli Pickle, Korivi Karam â€“ spicy earthy flavour.", prices:{ "250":200, "500":400, "1000":800 } },
    { id:"tamarind", category:"pickles", name:"Tamarind Pickle", desc:"Sharp, spicy and tangy flavoured pickle.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"amla", category:"pickles", name:"Amla Pickle", desc:"Spicy, tangy amla pickle.", prices:{ "250":200, "500":350, "1000":700 } },
    { id:"lemon", category:"pickles", name:"Lemon Pickle", desc:"Juicy marinated lemon pickle.", prices:{ "250":200, "500":350, "1000":700 } },

    { id:"kandi-podi", category:"powders", name:"Kandi Podi", desc:"Toor Dal Powder â€“ spicy lentil powder.", prices:{ "250":150, "500":300, "1000":600 } },
    { id:"karapu-podi", category:"powders", name:"Karapu podi (Nalla karam)", desc:"Hot, spicy and tangy powder.", prices:{ "250":150, "500":300, "1000":600 } },
    { id:"karivepaku-podi", category:"powders", name:"Karivepaku podi", desc:"Curry Leaves Powder â€“ sour and spicy.", prices:{ "250":150, "500":300, "1000":600 } },
    { id:"idly-chutney-podi", category:"powders", name:"Idly chutney podi", desc:"Flavourful spicy chutney powder.", prices:{ "250":150, "500":300, "1000":600 } },
    { id:"sambar-podi", category:"powders", name:"Sambar podi", desc:"Traditional sambar powder.", prices:{ "250":150, "500":300, "1000":600 } },
    { id:"rasam-podi", category:"powders", name:"Rasam podi", desc:"Flavourful, spicy and aromatic rasam powder.", prices:{ "250":150, "500":300, "1000":600 } },

    { id:"combo-1", category:"combos", name:"Family Pickle Combo 1", desc:"Mango (with garlic), Ginger, Amla, Gongura â€“ 500gm each (Total 2kg).", prices:{ "combo":1450 }, mrp:1600 },
    { id:"combo-2", category:"combos", name:"Family Pickle Combo 2", desc:"Gongura, Lemon, Magaya, Tomato â€“ 500gm each (Total 2kg).", prices:{ "combo":1450 }, mrp:1600 }
  ];

  function calculateAutoDiscount(subtotal) {
    if (subtotal >= 2500) return Math.round(subtotal * 0.10);
    if (subtotal >= 1500) return Math.round(subtotal * 0.05);
    return 0;
  }

  function calculateCouponDiscount(subtotal) {
    if (!APPLIED_COUPON) return 0;
    const conf = APPLIED_COUPON;
    if (subtotal < conf.minSubtotal) return 0;
    if (conf.type === "flat") return conf.amount;
    return Math.round((conf.amount / 100) * subtotal);
  }

  function makeProductCard(product) {
    const card = document.createElement("div");
    card.className = "product-card product-" + product.category;

    const img = document.createElement("img");
    img.src = IMAGE_MAP[product.id] || "srk-logo.png";
    img.alt = product.name;
    card.appendChild(img);

    const info = document.createElement("div");

    const h4 = document.createElement("h4");
    h4.textContent = product.name;
    info.appendChild(h4);

    const badgeWrap = document.createElement("div");
    badgeWrap.className = "badge-wrapper";

    if (product.id === "mango-garlic" || product.id === "gongura") {
      const badge = document.createElement("div");
      badge.className = "badge badge-bestseller";
      badge.textContent = "Bestseller";
      badgeWrap.appendChild(badge);
    }

    if (product.category === "combos") {
      const badge = document.createElement("div");
      badge.className = "badge badge-combo";
      badge.textContent = "Combo â€“ Save More";
      badgeWrap.appendChild(badge);
    }

    if (product.id === "bellam-avakaya" || product.id === "kandi-podi") {
      const badge = document.createElement("div");
      badge.className = "badge badge-offer";
      badge.textContent = "Limited Offer";
      badgeWrap.appendChild(badge);
    }

    if (badgeWrap.children.length > 0) {
      info.appendChild(badgeWrap);
    }

    const desc = document.createElement("div");
    desc.className = "product-desc";
    desc.textContent = product.desc;
    info.appendChild(desc);

    const priceLine = document.createElement("div");
    priceLine.className = "price-line";

    const priceKeys = Object.keys(product.prices);
    if (priceKeys.includes("combo")) {
      const main = product.prices.combo;
      priceLine.innerHTML = '<span class="price-main">Rs.' + main + '</span> (Combo pack)';
      info.appendChild(priceLine);

      if (product.mrp && product.mrp > main) {
        const save = product.mrp - main;
        const saveLine = document.createElement("div");
        saveLine.className = "price-save";
        saveLine.textContent = "Value Rs." + product.mrp + " â€“ You save Rs." + save;
        info.appendChild(saveLine);
      }
    } else {
      priceLine.innerHTML =
        '<span class="price-main">Rs.' + product.prices["250"] + '/250gm</span> | ' +
        'Rs.' + product.prices["500"] + '/500gm | Rs.' + product.prices["1000"] + '/kg';
         info.appendChild(priceLine);
    }

    const actions = document.createElement("div");
    actions.className = "product-actions";

    const sizeSelect = document.createElement("select");

    if (priceKeys.includes("combo")) {
      const opt = document.createElement("option");
      opt.value = "combo";
      opt.textContent = "Combo Pack â€“ Rs." + product.prices.combo;
      sizeSelect.appendChild(opt);
    } else {
      const opt250 = document.createElement("option");
      opt250.value = "250";
      opt250.textContent = "250 gm â€“ Rs." + product.prices["250"];
      opt250.selected = true;

      const opt500 = document.createElement("option");
      opt500.value = "500";
      opt500.textContent = "500 gm â€“ Rs." + product.prices["500"];

      const opt1000 = document.createElement("option");
      opt1000.value = "1000";
      opt1000.textContent = "1 kg â€“ Rs." + product.prices["1000"];

      sizeSelect.appendChild(opt250);
      sizeSelect.appendChild(opt500);
      sizeSelect.appendChild(opt1000);
    }

    const qtyInput = document.createElement("input");
    qtyInput.type = "number";
    qtyInput.min = "1";
    qtyInput.value = "1";

    const addBtn = document.createElement("button");
    addBtn.className = "btn-add";
    addBtn.textContent = "ADD TO CART";

    addBtn.addEventListener("click", function () {
      const size = sizeSelect.value;
      const qty = parseInt(qtyInput.value, 10) || 1;
      addToCart(product, size, qty);
    });

    actions.appendChild(sizeSelect);
    actions.appendChild(qtyInput);
    actions.appendChild(addBtn);

    info.appendChild(actions);
    card.appendChild(info);
    return card;
  }

  function renderProducts() {
    const picklesList = document.getElementById("pickles-list");
    const powdersList = document.getElementById("powders-list");
    const combosList = document.getElementById("combos-list");
    picklesList.innerHTML = "";
    powdersList.innerHTML = "";
    combosList.innerHTML = "";

    const searchValue = document.getElementById("search").value.toLowerCase();

    for (let i = 0; i < PRODUCTS.length; i++) {
      const p = PRODUCTS[i];
      const match =
        !searchValue ||
        p.name.toLowerCase().indexOf(searchValue) !== -1 ||
        p.desc.toLowerCase().indexOf(searchValue) !== -1;

      if (!match) continue;

      const card = makeProductCard(p);
      if (p.category === "pickles") picklesList.appendChild(card);
      else if (p.category === "powders") powdersList.appendChild(card);
      else if (p.category === "combos") combosList.appendChild(card);
    }
  }

  let CART = [];

  function addToCart(product, size, qty) {
    const key = product.id + "|" + size;
    let existing = null;
    for (let i = 0; i < CART.length; i++) {
      if (CART[i].key === key) {
        existing = CART[i];
        break;
      }
    }
    const unitPrice = product.prices[size];
    if (!unitPrice) return;

    if (existing) {
      existing.qty += qty;
    } else {
      CART.push({
        key: key,
        name: product.name,
        size: size,
        qty: qty,
        unitPrice: unitPrice
      });
    }
    renderCart();
  }

  function getSubtotalOnly() {
    let subtotal = 0;
    for (let i = 0; i < CART.length; i++) {
      subtotal += CART[i].unitPrice * CART[i].qty;
    }
    return subtotal;
  }

  function calculateDelivery(subtotalBeforeDiscount) {
    if (subtotalBeforeDiscount >= 1200) return 0;
    return 80;
  }

  function getTotals() {
    let subtotal = 0;
    let totalQty = 0;
    for (let i = 0; i < CART.length; i++) {
      subtotal += CART[i].unitPrice * CART[i].qty;
      totalQty += CART[i].qty;
    }

    const autoDiscount = calculateAutoDiscount(subtotal);
    const couponDiscount = calculateCouponDiscount(subtotal);
    let totalDiscount = autoDiscount + couponDiscount;
    if (totalDiscount > subtotal) totalDiscount = subtotal;

    const delivery = calculateDelivery(subtotal);
    const grand = subtotal - totalDiscount + delivery;

    return {
      subtotal,
      autoDiscount,
      couponDiscount,
      totalDiscount,
      delivery,
      grand,
      totalQty
    };
  }

  function renderCart() {
    const cartItemsDiv = document.getElementById("cart-items");
    const cartCountSpan = document.getElementById("cart-count");
    const subtotalSpan = document.getElementById("cart-subtotal");
    const deliverySpan = document.getElementById("cart-delivery");
    const grandSpan = document.getElementById("cart-grand");
    const autoDiscSpan = document.getElementById("cart-auto-discount");
    const couponDiscSpan = document.getElementById("cart-coupon-discount");

    if (!CART.length) {
      cartItemsDiv.className = "cart-items cart-empty";
      cartItemsDiv.textContent = "No items in cart";
      cartCountSpan.textContent = "0";
      subtotalSpan.textContent = "Rs. 0";
      deliverySpan.textContent = "Rs. 0";
      grandSpan.textContent = "Rs. 0";
      autoDiscSpan.textContent = "- Rs. 0";
      couponDiscSpan.textContent = "- Rs. 0";
      deliverySpan.classList.remove("delivery-free");
      return;
    }

    cartItemsDiv.className = "cart-items";
    cartItemsDiv.innerHTML = "";

    const totals = getTotals();

    for (let i = 0; i < CART.length; i++) {
      const item = CART[i];

      const row = document.createElement("div");
      row.className = "cart-row";

      const left = document.createElement("div");
      const title = document.createElement("div");
      title.className = "cart-row-title";
      title.textContent = item.name;
      const sub = document.createElement("div");
      sub.className = "cart-row-sub";
      let sizeLabel;
      if (item.size === "combo") sizeLabel = "Combo Pack";
      if (item.size === "combo") sizeLabel = "Combo Pack";
        else if (item.size === "1000") sizeLabel = "1 kg";
          else if (item.size === "500") sizeLabel = "500 gm";
            else sizeLabel = "250 gm";

      sub.textContent = sizeLabel + " Ã— " + item.qty;
      left.appendChild(title);
      left.appendChild(sub);

      const right = document.createElement("div");
      const amount = document.createElement("div");
      amount.textContent = "Rs." + (item.unitPrice * item.qty);

      const controls = document.createElement("div");
      controls.className = "cart-row-controls";

      (function(index){
        const minusBtn = document.createElement("button");
        minusBtn.textContent = "-";
        minusBtn.addEventListener("click", function () {
          CART[index].qty -= 1;
          if (CART[index].qty <= 0) CART.splice(index, 1);
          renderCart();
        });

        const plusBtn = document.createElement("button");
        plusBtn.textContent = "+";
        plusBtn.addEventListener("click", function () {
          CART[index].qty += 1;
          renderCart();
        });

        const removeBtn = document.createElement("button");
        removeBtn.textContent = "x";
        removeBtn.addEventListener("click", function () {
          CART.splice(index, 1);
          renderCart();
        });

        controls.appendChild(minusBtn);
        controls.appendChild(plusBtn);
        controls.appendChild(removeBtn);
      })(i);

      right.appendChild(amount);
      right.appendChild(controls);

      row.appendChild(left);
      row.appendChild(right);
      cartItemsDiv.appendChild(row);
    }

    const totals2 = getTotals();
    cartCountSpan.textContent = String(totals2.totalQty);
    subtotalSpan.textContent = "Rs. " + totals2.subtotal;
    deliverySpan.textContent = "Rs. " + totals2.delivery;
    grandSpan.textContent = "Rs. " + totals2.grand;
    autoDiscSpan.textContent = "- Rs. " + totals2.autoDiscount;
    couponDiscSpan.textContent = "- Rs. " + totals2.couponDiscount;

    if (totals2.delivery === 0) {
      deliverySpan.classList.add("delivery-free");
    } else {
      deliverySpan.classList.remove("delivery-free");
    }
  }

  function sendOrderToGoogleSheets(orderData) {
    if (!SHEETS_WEBHOOK_URL || SHEETS_WEBHOOK_URL.indexOf("YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE") !== -1) {
      console.warn("Google Sheets webhook URL not configured.");
      return;
    }
    try {
      fetch(SHEETS_WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(orderData)
      }).catch(function(err) {
        console.error("Sheets error:", err);
      });
    } catch (e) {
      console.error("Sheets error:", e);
    }
  }

  function applyCouponFromCode(inputCode) {
    const msgEl = document.getElementById("coupon-message");
    const raw = (typeof inputCode === "string" && inputCode) ||
                (document.getElementById("coupon-code") && document.getElementById("coupon-code").value) ||
                "";
    const code = raw.trim().toUpperCase();

    if (!code) {
      if (msgEl) {
        msgEl.textContent = "Please enter a coupon code.";
        msgEl.className = "coupon-message err";
      }
      return;
    }

    const conf = COUPONS[code];
    if (!conf) {
      APPLIED_COUPON = null;
      if (msgEl) {
        msgEl.textContent = "Invalid coupon code.";
        msgEl.className = "coupon-message err";
      }
      renderCart();
      return;
    }

    const subtotal = getSubtotalOnly();
    if (subtotal < conf.minSubtotal) {
      APPLIED_COUPON = null;
      if (msgEl) {
        msgEl.textContent = "This coupon needs minimum order of Rs." + conf.minSubtotal + ".";
        msgEl.className = "coupon-message err";
      }
      renderCart();
      return;
    }

    APPLIED_COUPON = {
      code,
      type: conf.type,
      amount: conf.amount,
      minSubtotal: conf.minSubtotal,
      label: conf.label
    };

    if (msgEl) {
      msgEl.textContent = "Coupon " + code + " applied: " + conf.label;
      msgEl.className = "coupon-message ok";
    }
    renderCart();
  }

  function getSelectedPaymentMethod() {
    const radios = document.querySelectorAll('input[name="payment"]');
    for (let i = 0; i < radios.length; i++) {
      if (radios[i].checked) return radios[i].value;
    }
    return null;
  }

  function buildUpiLink(totalAmount) {
    const params = new URLSearchParams({
      pa: UPI_ID,
      pn: "SRK Pickles",
      am: String(totalAmount),
      cu: "INR",
      tn: "SRK Pickles Order"
    });
    return "upi://pay?" + params.toString();
  }

  function buildWhatsAppMessage(name, phone, addr, paymentMethod, totals, orderId) {
    let text = "New SRK Pickles Order%0A%0A";
    text += "Order ID: " + encodeURIComponent(orderId) + "%0A";
    text += "Name: " + encodeURIComponent(name) + "%0A";
    text += "Phone: " + encodeURIComponent(phone) + "%0A";
    text += "Address: " + encodeURIComponent(addr) + "%0A";
    text += "Payment Method: " + encodeURIComponent(paymentMethod) + "%0A%0A";

    text += "Items:%0A";
    for (let i = 0; i < CART.length; i++) {
      const item = CART[i];
      let sizeLabel;
      if (item.size === "combo") sizeLabel = "Combo Pack";
      else if (item.size === "1000") sizeLabel = "1 kg";
      else if (item.size === "500") sizeLabel = "500 gm";
      else sizeLabel = "250 gm";
      const line =
        "- " + item.name + " (" + sizeLabel + ") x " + item.qty +
        " = Rs." + (item.unitPrice * item.qty);
      text += encodeURIComponent(line) + "%0A";
    }

    text += "%0ASubtotal: Rs." + totals.subtotal;
    text += "%0AAuto Discount: Rs." + totals.autoDiscount;
    text += "%0ACoupon Discount: Rs." + totals.couponDiscount;
    text += "%0ADelivery: Rs." + totals.delivery;
    text += "%0ATotal Payable: Rs." + totals.grand;

    if (APPLIED_COUPON) {
      text += "%0ACoupon Used: " + encodeURIComponent(APPLIED_COUPON.code);
    }

    if (paymentMethod === "PhonePe" || paymentMethod === "Google Pay") {
      const upiLink = buildUpiLink(totals.grand);
      text += "%0A%0AUPI Mobile: " + encodeURIComponent(UPI_MOBILE);
      text += "%0AUPI ID: " + encodeURIComponent(UPI_ID);
      text += "%0AUPI Payment Link (tap to pay):%0A" + encodeURIComponent(upiLink);
      text += "%0A%0A(Note: Once paid, please share payment screenshot / UTR on WhatsApp.)";
    }

    return text;
  }

  const ORDERS_STORAGE_KEY = "srk_orders_history";

  function getOrderStatusFromTime(createdAtIso) {
    if (!createdAtIso) return { code: "placed", label: "Order placed (processing)" };
    const created = new Date(createdAtIso);
    if (Number.isNaN(created.getTime())) return { code: "placed", label: "Order placed (processing)" };
    const now = new Date();
    const diffMs = now - created;
    const diffDays = diffMs / (1000*60*60*24);
    if (diffDays < 1) return { code: "placed", label: "Order placed (processing)" };
    if (diffDays < 3) return { code: "packed", label: "Packed (awaiting pickup / dispatch)" };
    if (diffDays < 6) return { code: "shipped", label: "Shipped (in transit)" };
    if (diffDays < 8) return { code: "out", label: "Out for delivery / near you" };
    return { code: "delivered", label: "Delivered / likely delivered" };
  }

  function saveOrderForHistory(orderPayload) {
    try {
      const raw = localStorage.getItem(ORDERS_STORAGE_KEY);
      let arr = raw ? JSON.parse(raw) : [];
      if (!Array.isArray(arr)) arr = [];
      const entry = {
        orderId: orderPayload.orderId,
        createdAt: orderPayload.createdAt,
        total: orderPayload.total,
        subtotal: orderPayload.subtotal,
        delivery: orderPayload.delivery,
        autoDiscount: orderPayload.autoDiscount,
        couponDiscount: orderPayload.couponDiscount,
        paymentMethod: orderPayload.paymentMethod,
        couponCode: orderPayload.couponCode,
        phone: orderPayload.phone,
        items: orderPayload.cart.map(function(c) {
          return { name: c.name, size: c.size, qty: c.qty, unitPrice: c.unitPrice };
        })
      };
      arr.unshift(entry);
      if (arr.length > 50) arr.length = 50;
      localStorage.setItem(ORDERS_STORAGE_KEY, JSON.stringify(arr));
    } catch (e) {
      console.warn("Could not save order history", e);
    }
  }

  function sizeLabelForHistory(size) {
    if (size === "combo") return "Combo Pack";
    if (size === "1000") return "1 kg";
    if (size === "500") return "500 gm";
    if (size === "250") return "250 gm";
    return size;
  }

  function formatDateTime(iso) {
    if (!iso) return "";
    const d = new Date(iso);
    if (Number.isNaN(d.getTime())) return iso;
    const day = String(d.getDate()).padStart(2,"0");
    const month = String(d.getMonth()+1).padStart(2,"0");
    const year = d.getFullYear();
    const hours = String(d.getHours()).padStart(2,"0");
    const mins = String(d.getMinutes()).padStart(2,"0");
    return day + "-" + month + "-" + year + " " + hours + ":" + mins;
  }

  function renderOrdersHistory() {
    const container = document.getElementById("orders-list");
    if (!container) return;
    container.innerHTML = "";

    let arr = [];
    try {
      const raw = localStorage.getItem(ORDERS_STORAGE_KEY);
      arr = raw ? JSON.parse(raw) : [];
      if (!Array.isArray(arr)) arr = [];
    } catch (e) {
      arr = [];
    }

    if (!arr.length) {
      const empty = document.createElement("div");
      empty.className = "orders-empty";
      empty.textContent = "No orders found on this device yet. Place an order and it will appear here.";
      container.appendChild(empty);
      return;
    }

    arr.forEach(function(order) {
      const status = getOrderStatusFromTime(order.createdAt);

      const card = document.createElement("div");
      card.className = "order-card";

      const header = document.createElement("div");
      header.className = "order-card-header";

      const left = document.createElement("div");
      const idEl = document.createElement("div");
      idEl.className = "order-id";
      idEl.textContent = "Order ID: " + (order.orderId || "N/A");
      const dateEl = document.createElement("div");
      dateEl.className = "order-date";
      dateEl.textContent = "Placed on: " + formatDateTime(order.createdAt);
      left.appendChild(idEl);
      left.appendChild(dateEl);

      const totalEl = document.createElement("div");
      totalEl.className = "order-total";
      totalEl.textContent = "Rs. " + (order.total || 0);

      header.appendChild(left);
      header.appendChild(totalEl);
      card.appendChild(header);

      const itemsDiv = document.createElement("div");
      itemsDiv.className = "order-items";
      const ul = document.createElement("ul");
      (order.items || []).forEach(function(it) {
        const li = document.createElement("li");
        li.textContent =
          it.name + " (" + sizeLabelForHistory(it.size) + ") x " + it.qty +
          " â€“ Rs." + (it.unitPrice * it.qty);
        ul.appendChild(li);
      });
      itemsDiv.appendChild(ul);
      card.appendChild(itemsDiv);

      const metaDiv = document.createElement("div");
      metaDiv.className = "order-meta";
      metaDiv.textContent =
        "Payment: " + (order.paymentMethod || "N/A") +
        " â€¢ Subtotal: Rs." + (order.subtotal || 0) +
        " â€¢ Delivery: Rs." + (order.delivery || 0);
      card.appendChild(metaDiv);

      const discDiv = document.createElement("div");
      discDiv.className = "order-meta";
      discDiv.textContent =
        "Status: " + status.label +
        " â€¢ Auto Discount: Rs." + (order.autoDiscount || 0) +
        " â€¢ Coupon Discount: Rs." + (order.couponDiscount || 0) +
        (order.couponCode ? " â€¢ Coupon: " + order.couponCode : "");
      card.appendChild(discDiv);

      const noteDiv = document.createElement("div");
      noteDiv.className = "order-note";
      noteDiv.textContent =
        "For live status, reply on WhatsApp with this Order ID and registered mobile number.";
      card.appendChild(noteDiv);

      container.appendChild(card);
    });
  }

  function handleTrackOrder() {
    const idInput = document.getElementById("track-order-id");
    const phoneInput = document.getElementById("track-order-phone");
    const resultEl = document.getElementById("track-order-result");
    if (!resultEl) return;

    const id = (idInput.value || "").trim();
    const phoneLast = (phoneInput.value || "").trim();

    if (!id) {
      resultEl.textContent = "Please enter your Order ID (e.g., SRK202511271230).";
      resultEl.className = "track-result track-result-empty";
      return;
    }

    let arr = [];
    try {
      const raw = localStorage.getItem(ORDERS_STORAGE_KEY);
      arr = raw ? JSON.parse(raw) : [];
      if (!Array.isArray(arr)) arr = [];
    } catch (e) {
      arr = [];
    }

    let match = null;
    for (let i = 0; i < arr.length; i++) {
      const o = arr[i];
      if (!o.orderId) continue;
      if (o.orderId.toLowerCase() === id.toLowerCase()) {
        if (phoneLast) {
          const storedPhone = (o.phone || "").replace(/\D/g,"");
          if (!storedPhone.endsWith(phoneLast)) {
            continue;
          }
        }
        match = o;
        break;
      }
    }

    if (!match) {
      resultEl.innerHTML =
        "We could not find this order on this device. Please double-check the Order ID " +
        "or check your WhatsApp chat for the latest status.";
      resultEl.className = "track-result track-result-empty";
      return;
    }

    const status = getOrderStatusFromTime(match.createdAt);
    const steps = [
      {code:"placed", label:"Order placed", desc:"We received your order details."},
      {code:"packed", label:"Packed", desc:"Pickles are packed safely and ready to hand over to courier."},
      {code:"shipped", label:"Shipped", desc:"Your order is handed over to the courier partner."},
      {code:"out", label:"Out for delivery", desc:"Your parcel is near your delivery location."},
      {code:"delivered", label:"Delivered", desc:"Order should be delivered. If not, please contact us on WhatsApp."}
    ];

    let html = '<div class="track-summary">';
    html += "<div><strong>Order ID:</strong> " + match.orderId + "</div>";
    html += "<div><strong>Placed on:</strong> " + formatDateTime(match.createdAt) + "</div>";
    html += "<div><strong>Total:</strong> Rs. " + (match.total || 0) + "</div>";
    html += "<div><strong>Current status:</strong> " + status.label + "</div>";
    html += "</div>";

    html += '<ul class="track-steps">';
    let activeIndex = steps.findIndex(function(s){ return s.code === status.code; });
    if (activeIndex === -1) activeIndex = 0;

    steps.forEach(function(step, idx) {
      const activeClass = idx <= activeIndex ? " active" : "";
      html += '<li class="track-step' + activeClass + '">';
      html += '<div class="track-step-dot"></div>';
      html += '<div><div class="track-step-label">' + step.label + '</div>';
      html += '<div class="track-step-desc">' + step.desc + '</div></div>';
      html += '</li>';
    });
    html += '</ul>';

    html += '<div class="track-note">Note: This is an estimated status based on typical timelines. ' +
            'For exact live status or courier tracking, please reply on WhatsApp with this Order ID.</div>';

    resultEl.innerHTML = html;
    resultEl.className = "track-result";
  }

  function sendOrderOnWhatsApp() {
    if (!CART.length) {
      alert("Please add at least one item to the cart.");
      return;
    }

    const name = document.getElementById("cust-name").value.trim();
    const phone = document.getElementById("cust-phone").value.trim();
    const addr = document.getElementById("cust-address").value.trim();
    const paymentMethod = getSelectedPaymentMethod();

    if (!name || !phone || !addr) {
      alert("Please fill Name, Phone and Address.");
      return;
    }
    if (!paymentMethod) {
      alert("Please select a payment method.");
      return;
    }

    const totals = getTotals();
    if (totals.grand <= 0) {
      alert("Total amount is zero.");
      return;
    }

    const orderId = "SRK" + new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14);

    const orderPayload = {
      orderId: orderId,
      name: name,
      phone: phone,
      address: addr,
      cart: CART,
      subtotal: totals.subtotal,
      autoDiscount: totals.autoDiscount,
      couponDiscount: totals.couponDiscount,
      delivery: totals.delivery,
      total: totals.grand,
      paymentMethod: paymentMethod,
      couponCode: APPLIED_COUPON ? APPLIED_COUPON.code : null,
      createdAt: new Date().toISOString()
    };
    sendOrderToGoogleSheets(orderPayload);
    saveOrderForHistory(orderPayload);
    renderOrdersHistory();

    const msg = buildWhatsAppMessage(name, phone, addr, paymentMethod, totals, orderId);
    const url = "https://wa.me/" + OWNER_WHATSAPP_NUMBER + "?text=" + msg;
    window.open(url, "_blank");
  }

  function generateReferralCode(raw) {
    const base = raw.replace(/\s+/g,'').toUpperCase().slice(0,8);
    const rnd = Math.floor(Math.random()*900 + 100);
    return base || ("SRK" + rnd);
  }

  function getBaseUrl() {
    const loc = window.location;
    return loc.origin + loc.pathname.replace(/index\.html$/i, "");
  }

  function handleReferralGenerate() {
    const nameRaw = document.getElementById("ref-name").value.trim();
    const code = generateReferralCode(nameRaw || "SRK");
    const link = getBaseUrl() + "?ref=" + encodeURIComponent(code);
    const out = document.getElementById("ref-output");
    if (out) {
      out.innerHTML =
        "Your referral code: <strong>" + code +
        "</strong><br/>Referral link:<br/>" + link;
    }
    return { code, link };
  }

  function handleReferralShareWA() {
    const { code, link } = handleReferralGenerate();
    const text =
      "Hi! Try SRK Pickles â€“ homemade Andhra pickles and powders.%0A" +
      "Use my referral code: " + encodeURIComponent(code) + "%0A" +
      "Order here: " + encodeURIComponent(link);
    const url = "https://wa.me/?text=" + text;
    window.open(url, "_blank");
  }

  function initCountdown() {
    const el = document.getElementById("countdown");
    if (!el) return;
    const target = new Date("2025-12-31T23:59:59");

    function update() {
      const now = new Date();
      const diff = target - now;
      if (diff <= 0) {
        el.textContent = "Offer ends soon!";
        return;
      }
      const d = Math.floor(diff / (1000*60*60*24));
      const h = Math.floor((diff / (1000*60*60)) % 24);
      const m = Math.floor((diff / (1000*60)) % 60);
      el.textContent = "Ends in " + d + "d " + h + "h " + m + "m";
    }
    update();
    setInterval(update, 60000);
  }

  function initOfferModal() {
    const modal = document.getElementById("offer-modal");
    if (!modal) return;
    const closeBtn = document.getElementById("offer-close");
    const applyBtn = document.getElementById("offer-apply");

    function closeModal() {
      modal.classList.remove("show");
      try {
        localStorage.setItem("srk_offer_seen", "1");
      } catch(e) {}
    }

    if (closeBtn) closeBtn.addEventListener("click", closeModal);

    if (applyBtn) {
      applyBtn.addEventListener("click", function() {
        const input = document.getElementById("coupon-code");
        if (input) input.value = "SRKWELCOME";
        applyCouponFromCode("SRKWELCOME");
        closeModal();
        const cartBox = document.querySelector(".cart-box");
        if (cartBox) cartBox.scrollIntoView({behavior:"smooth"});
      });
    }

    try {
      const seen = localStorage.getItem("srk_offer_seen");
      if (seen) return;
    } catch(e) {}

    setTimeout(function() {
      modal.classList.add("show");
    }, 2000);
  }

  const REVIEWS_STORAGE_KEY = "srk_reviews_extra";

  function makeStars(rating) {
    const r = Math.max(1, Math.min(5, rating || 5));
    return "â˜…â˜…â˜…â˜…â˜…".slice(0, r) + "â˜†â˜†â˜†â˜†â˜†".slice(0, 5 - r);
  }

  function addReviewToDOM(review, atTop = true) {
    const grid = document.getElementById("reviews-grid");
    if (!grid) return;
    const card = document.createElement("article");
    card.className = "review-card";

    const stars = document.createElement("div");
    stars.className = "review-stars";
    stars.textContent = makeStars(review.rating);
    card.appendChild(stars);

    const text = document.createElement("div");
    text.className = "review-text";
    text.textContent = review.text;
    card.appendChild(text);

    const user = document.createElement("div");
    user.className = "review-user";
    user.innerHTML = "<span>" + (review.name || "Customer") + ",</span> " + (review.location || "");
    card.appendChild(user);

    if (atTop) grid.insertBefore(card, grid.firstChild);
    else grid.appendChild(card);
    updateReviewsSummary();
  }

  function loadStoredReviews() {
    try {
      const raw = localStorage.getItem(REVIEWS_STORAGE_KEY);
      if (!raw) return;
      const arr = JSON.parse(raw);
      if (!Array.isArray(arr)) return;
      arr.forEach(function(r) { addReviewToDOM(r, true); });
    } catch (e) {
      console.warn("Could not load stored reviews", e);
    }
  }

  function saveReview(review) {
    try {
      const raw = localStorage.getItem(REVIEWS_STORAGE_KEY);
      const arr = raw ? JSON.parse(raw) : [];
      arr.push(review);
      localStorage.setItem(REVIEWS_STORAGE_KEY, JSON.stringify(arr));
    } catch (e) {
      console.warn("Could not save review", e);
    }
  }

  function handleReviewSubmit() {
    const nameEl = document.getElementById("review-name");
    const locEl = document.getElementById("review-location");
    const ratingEl = document.getElementById("review-rating");
    const textEl = document.getElementById("review-text");

    const name = (nameEl.value || "").trim();
    const location = (locEl.value || "").trim();
    const rating = parseInt(ratingEl.value, 10);
    const text = (textEl.value || "").trim();

    if (!text || !rating || Number.isNaN(rating)) {
      alert("Please select a rating and write your review.");
      return;
    }

    const review = {
      name: name || "Customer",
      location: location,
      rating: rating,
      text: text,
      createdAt: new Date().toISOString()
    };

    addReviewToDOM(review, true);
    saveReview(review);

    nameEl.value = "";
    locEl.value = "";
    ratingEl.value = "";
    textEl.value = "";

    alert("Thank you! Your review has been added.");
    const grid = document.getElementById("reviews-grid");
    if (grid) grid.focus();
  }

  function updateReviewsSummary() {
    try {
      const ratingNodes = document.querySelectorAll(".reviews-grid .review-card .review-stars");
      let total = 0, count = 0;
      ratingNodes.forEach(function(n) {
        const txt = n.textContent || "";
        const stars = (txt.match(/â˜…/g) || []).length;
        if (stars > 0) {
          total += stars;
          count += 1;
        }
      });
      const avg = count ? (total / count) : 5;
      const avgRounded = Math.round(avg*10)/10;
      const starsText = "â˜…â˜…â˜…â˜…â˜…".slice(0, Math.round(avg)) + "â˜†â˜†â˜†â˜†â˜†".slice(0, 5-Math.round(avg));
      const starsEl = document.getElementById("reviews-average-stars");
      const countEl = document.getElementById("reviews-count");
      if (starsEl) starsEl.textContent = starsText;
      if (countEl) countEl.textContent = avgRounded + "/5 based on " + count + " review" + (count===1?"":"s");
    } catch (e) {
      console.warn("updateReviewsSummary failed", e);
    }
  }

  document.getElementById("btn-pay-now").addEventListener("click", handlePayNow);
  document.getElementById("search").addEventListener("input", renderProducts);
  document.getElementById("apply-coupon-btn").addEventListener("click", function() {
    applyCouponFromCode();
  });

  document.getElementById("cart-button").addEventListener("click", function () {
    const cartBox = document.querySelector(".cart-box");
    if (cartBox) {
      cartBox.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  });

  document.getElementById("ref-generate").addEventListener("click", handleReferralGenerate);
  document.getElementById("ref-share-wa").addEventListener("click", handleReferralShareWA);
  document.getElementById("review-submit").addEventListener("click", handleReviewSubmit);
  document.getElementById("track-order-btn").addEventListener("click", handleTrackOrder);

  renderProducts();
  renderCart();
  initCountdown();
  initOfferModal();
  loadStoredReviews();
  updateReviewsSummary();
  renderOrdersHistory();

  function gotoSectionById(id) {
    const target = document.getElementById(id);
    if (!target) return;
    const header = document.querySelector('header');
    const headerH = header ? header.offsetHeight : 80;
    const rect = target.getBoundingClientRect();
    const absoluteTop = window.pageYOffset + rect.top;
    const offsetTop = Math.max(0, absoluteTop - headerH - 12);
    window.scrollTo({ top: offsetTop, behavior: 'smooth' });

    target.classList.add('highlight');
    setTimeout(()=>target.classList.remove('highlight'), 900);

    if (id === 'reviews') {
      const grid = document.getElementById('reviews-grid');
      if (grid) {
        setTimeout(()=>grid.focus(), 500);
      }
    }
  }

  document.querySelectorAll('header nav a[href^="#"]').forEach(function(link) {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      var id = this.getAttribute("href").substring(1);
      gotoSectionById(id);
    });
  });
  function handlePayNow() {
  if (!CART.length) {
    alert("Your cart is empty.");
    return;
  }

  const totals = getTotals();
  if (totals.grand <= 0) {
    alert("Invalid amount.");
    return;
  }

  const upiLink = buildUpiLink(totals.grand);

  // open UPI app
  window.location.href = upiLink;

  // friendly reminder
  setTimeout(function(){
    alert("After completing payment, please return and click 'Place Order on WhatsApp' to confirm your order.");
  }, 1200);
}
</script>
</body>
</html>










