<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>SRK Pickles ‚Äì Online Store</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #fffdf7;
      --accent: #0f5b4f;
      --accent-2: #c0392b;
      --card: #ffffff;
      --muted: #7a6a60;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont,
                   "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: #222;
      line-height: 1.5;
    }

    header {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 14px 18px;
      background: linear-gradient(90deg, #f7e8d9, #fffefc);
      border-bottom: 1px solid #eee;
      position: sticky;
      top: 0;
      z-index: 20;
    }
    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .logo-wrap img {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      object-fit: cover;
      box-shadow: 0 6px 18px rgba(16,24,40,0.14);
    }
    .brand {
      font-weight: 800;
      font-size: 22px;
      color: var(--accent);
    }
    .tagline {
      font-size: 13px;
      color: var(--muted);
    }

    nav {
      display: flex;
      gap: 10px;
      margin-left: 24px;
      flex-wrap: wrap;
    }
    nav a {
      text-decoration: none;
      font-size: 14px;
      font-weight: 700;
      padding: 8px 10px;
      border-radius: 999px;
      color: var(--accent-2);
      background: #fff;
      border: 1px solid rgba(192,57,43,0.12);
    }

    .search-wrap {
      margin-left: auto;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .search-wrap input {
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #e6dcd1;
      font-size: 13px;
      width: 180px;
    }
    .btn-pill {
      border-radius: 999px;
      border: none;
      background: var(--accent-2);
      color: #fff;
      padding: 8px 12px;
      font-size: 13px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-pill:hover {
      background: #a83224;
      box-shadow: 0 4px 10px rgba(192,57,43,0.25);
      transform: translateY(-1px);
    }

    /* Offer banner */
    .offer-banner {
      background: #c0392b;
      color: #fff;
      text-align: center;
      padding: 10px 6px;
      font-weight: 700;
      font-size: 15px;
    }

    main {
      max-width: 1180px;
      margin: 24px auto;
      padding: 0 16px 40px;
    }
    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.75fr) minmax(0, 0.9fr);
      gap: 18px;
      align-items: flex-start;
    }
    .right-column {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    h2.section-title {
      margin: 18px 0 10px;
      color: #4d3825;
      font-size: 20px;
      position: relative;
      padding-bottom: 4px;
    }
    h2.section-title::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 60px;
      height: 3px;
      border-radius: 999px;
      background: linear-gradient(90deg,#c0392b,#f1b27a);
    }

    section.products-wrapper {
      background:#fffdf9;
      border-radius:18px;
      border:1px solid #f1e1d5;
      padding:12px 12px 18px;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 14px;
    }
    .product-card {
      background: var(--card);
      border-radius: 14px;
      border: 2px solid #e6dcd1;
      padding: 10px;
      display: flex;
      gap: 10px;
      align-items: flex-start;
      box-shadow: 0 4px 14px rgba(16,24,40,0.05);
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }
    .product-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(15, 91, 79, 0.15);
      border-color: #f1b27a;
    }
    .product-card img {
      width: 90px;
      height: 90px;
      border-radius: 12px;
      object-fit: cover;
      flex-shrink: 0;
    }
    .product-card h4 {
      margin: 0 0 4px;
      font-size: 15px;
      color: var(--accent);
    }
    .product-desc {
      font-size: 13px;
      color: var(--muted);
    }
    .price-line {
      margin-top: 6px;
      font-size: 13px;
    }
    .price-main {
      color: var(--accent-2);
      font-weight: 700;
    }
    .product-actions {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
    }
    .product-actions select,
    .product-actions input {
      padding: 5px 6px;
      border-radius: 8px;
      border: 1px solid #e6dcd1;
      font-size: 12px;
    }
    .product-actions input {
      width: 50px;
      text-align: center;
    }
    .btn-add {
      background: var(--accent-2);
      color: #fff;
      border-radius: 8px;
      border: none;
      padding: 7px 10px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-add:hover {
      background: #a83224;
      box-shadow: 0 4px 10px rgba(192,57,43,0.25);
      transform: translateY(-1px);
    }

    /* Cart / sidebar */
    .cart-box {
      position: sticky;
      top: 100px;
      background: #ffffff;
      border-radius: 16px;
      border: 1px solid #efe7df;
      padding: 14px;
      box-shadow: 0 6px 18px rgba(16,24,40,0.06);
    }
    .cart-box h3 {
      margin: 0 0 6px;
      font-size: 18px;
      color: var(--accent);
    }
    .cart-items {
      max-height: 260px;
      overflow-y: auto;
      margin: 8px 0 10px;
      padding-right: 2px;
    }
    .cart-empty {
      font-size: 13px;
      color: var(--muted);
    }
    .cart-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      padding: 6px 0;
      border-bottom: 1px dashed #f0e6de;
      font-size: 12px;
    }
    .cart-row:last-child { border-bottom: none; }
    .cart-row-title {
      font-weight: 600;
      color: #4d3825;
      margin-bottom: 2px;
    }
    .cart-row-sub {
      color: var(--muted);
      font-size: 11px;
    }
    .cart-row-controls button {
      border-radius: 999px;
      border: none;
      background: #f3e6dd;
      padding: 2px 7px;
      margin-left: 3px;
      cursor: pointer;
      font-size: 11px;
    }

    .cart-total-line {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      margin-top: 4px;
    }
    .cart-total-line strong {
      font-weight: 700;
    }
    .cart-note {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    .cart-form {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .cart-form label {
      font-size: 12px;
      margin-bottom: 2px;
    }
    .cart-form input,
    .cart-form textarea {
      padding: 8px;
      border-radius: 10px;
      border: 1px solid #e6dcd1;
      font-size: 13px;
      resize: vertical;
    }

    .payment-methods {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #e6dcd1;
      background: #fffdf9;
      font-size: 13px;
    }
    .payment-methods-title {
      font-weight: 700;
      margin-bottom: 6px;
      color: #4d3825;
    }
    .payment-option {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
      font-size: 13px;
    }
    .upi-info {
      font-size: 11px;
      color: #7a6a60;
      margin-top: 4px;
      line-height: 1.4;
    }

    .btn-checkout {
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 9px 10px;
      margin-top: 8px;
      font-size: 13px;
      font-weight: 800;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }
    .btn-checkout:hover {
      background: #094035;
      box-shadow: 0 4px 10px rgba(15,91,79,0.25);
      transform: translateY(-1px);
    }

    footer {
      margin-top: 22px;
      font-size: 12px;
      text-align: center;
      color: #8b6f5a;
    }
    .footer-links {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }
    .footer-links a {
      color: #8b6f5a;
      text-decoration: none;
      font-weight: 600;
      font-size: 11px;
    }

    /* Floating WhatsApp button */
    .wa-float {
      position: fixed;
      width: 55px;
      height: 55px;
      bottom: 22px;
      right: 22px;
      background: #25d366;
      color: white;
      border-radius: 50%;
      text-align: center;
      font-size: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 6px 18px rgba(16,24,40,0.25);
      z-index: 999;
    }

    /* QR Poster */
    .qr-poster {
      margin-top: 40px;
      padding: 20px;
      border-radius: 16px;
      background: #fff;
      border: 1px dashed #e0c8b8;
      text-align: center;
    }
    .qr-poster h3 {
      margin-top: 0;
      color: var(--accent);
    }
    .qr-poster img {
      margin: 10px auto;
      display: block;
      width: 260px;
      height: 260px;
    }

    /* Info / Policy sections */
    .info-section {
      margin-top: 30px;
      padding: 18px 16px;
      border-radius: 14px;
      background: #fff;
      border: 1px solid #e6dcd1;
    }
    .info-section h3 {
      margin: 0 0 6px;
      font-size: 16px;
      color: var(--accent);
    }
    .info-section p,
    .info-section ul {
      margin: 4px 0;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.5;
    }
    .info-section ul {
      padding-left: 18px;
    }

    /* Customer reviews (right column) */
    .reviews-section {
      margin-top: 0;
      padding: 14px 12px 16px;
      border-radius: 16px;
      background: #fff;
      border: 1px solid #f1e1d5;
    }
    .reviews-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      margin-bottom: 6px;
    }
    .reviews-title {
      font-size: 16px;
      font-weight: 700;
      color: #4d3825;
    }
    .reviews-subtitle {
      font-size: 12px;
      color: #7a6a60;
    }
    .reviews-summary {
      text-align: right;
      font-size: 12px;
      color: #4d3825;
    }
    .reviews-stars {
      color: #f5a623;
      font-size: 15px;
      line-height: 1.1;
    }
    .reviews-count {
      font-size: 11px;
      color: #7a6a60;
    }
    .reviews-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
      margin-top: 6px;
    }
    .review-card {
      background: #fffdf9;
      border-radius: 12px;
      border: 1px solid #f1e1d5;
      padding: 8px 9px;
      font-size: 13px;
      color: #4d3825;
      box-shadow: 0 3px 8px rgba(16,24,40,0.04);
    }
    .review-stars {
      color: #f5a623;
      font-size: 13px;
      margin-bottom: 2px;
    }
    .review-text {
      font-size: 12px;
      margin-bottom: 4px;
    }
    .review-user {
      font-size: 11px;
      color: #7a6a60;
    }
    .review-user span {
      font-weight: 600;
      color: #4d3825;
    }

    @media (max-width: 900px) {
      header { flex-wrap: wrap; }
      nav { margin-left: 0; }
      .layout { grid-template-columns: minmax(0,1fr); }
      .products-grid { grid-template-columns: minmax(0,1fr); }
      .cart-box { position: static; margin-top: 20px; }
    }

    @media (max-width: 600px) {
      .offer-banner {
        font-size: 13px;
        padding: 8px 4px;
      }
      header {
        padding: 10px 12px;
      }
      .brand {
        font-size: 18px;
      }
      .tagline {
        font-size: 12px;
      }
      .product-card {
        padding: 8px;
      }
    }
  </style>
</head>

<body>
<header>
  <div class="logo-wrap">
    <!-- Put srk-logo.png in SAME folder as this HTML -->
    <img src="srk-logo.png" alt="SRK Pickles Logo" />
    <div>
      <div class="brand">SRK Pickles</div>
      <div class="tagline">Flavor Crafted.</div>
    </div>
  </div>

  <nav>
    <a href="#pickles">PICKLES</a>
    <a href="#powders">POWDERS</a>
    <a href="#reviews">REVIEWS</a>
  </nav>

  <div class="search-wrap">
    <input id="search" placeholder="Search products..." />
    <button class="btn-pill" id="cart-button" type="button">
      Cart (<span id="cart-count">0</span>)
    </button>
  </div>
</header>

<div class="offer-banner">üéâ Buy 2 kg & Get ¬Ω kg FREE ‚Äî Limited Time Offer! üéâ</div>

<!-- Optional small hero section -->
<section style="
  max-width:1180px;
  margin:18px auto 0;
  padding:18px 16px;
  display:flex;
  gap:20px;
  align-items:center;
">
  <div style="flex:1;">
    <h1 style="margin:0 0 8px;font-size:26px;color:#0f5b4f;">
      Authentic Homemade Andhra Pickles
    </h1>
    <p style="margin:0 0 14px;font-size:14px;color:#7a6a60;max-width:420px;">
      Small-batch, preservative-free pickles and powders made with handpicked ingredients.
      Perfect with hot rice, idly, dosa and every home meal.
    </p>
    <button onclick="document.getElementById('pickles').scrollIntoView({behavior:'smooth'})"
      style="
        border:none;
        border-radius:999px;
        padding:10px 18px;
        background:#c0392b;
        color:#fff;
        font-size:14px;
        font-weight:700;
        cursor:pointer;
      ">
      Shop Pickles
    </button>
  </div>
  <div style="
    flex:1;
    min-height:140px;
    border-radius:18px;
    background:linear-gradient(135deg,#ffe0b2,#fff3e0);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:14px;
    color:#4d3825;
    padding:16px;
  ">
    100% Homemade ‚Ä¢ No Preservatives ‚Ä¢ Ships Across India
  </div>
</section>

<main>
  <div class="layout">
    <!-- LEFT: Products -->
    <section class="products-wrapper">
      <h2 id="pickles" class="section-title">Pickles</h2>
      <div id="pickles-list" class="products-grid"></div>

      <h2 id="powders" class="section-title">Powders</h2>
      <div id="powders-list" class="products-grid"></div>
    </section>

    <!-- RIGHT: Cart + Reviews column -->
    <div class="right-column">
      <!-- Cart -->
      <aside class="cart-box">
        <h3>Your Cart</h3>
        <div id="cart-items" class="cart-items cart-empty">No items in cart</div>

        <div class="cart-total-line">
          <span>Subtotal</span>
          <span id="cart-subtotal">Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <span>Delivery</span>
          <span id="cart-delivery">Rs. 0</span>
        </div>
        <div class="cart-total-line">
          <strong>Total Payable</strong>
          <strong id="cart-grand">Rs. 0</strong>
        </div>
        <div class="cart-note">
          Delivery rule: Free delivery for orders above Rs.1200, otherwise flat Rs.80.
        </div>

        <div class="cart-form">
          <div>
            <label for="cust-name">Customer Name</label>
            <input id="cust-name" placeholder="Name" />
          </div>
          <div>
            <label for="cust-phone">Phone Number</label>
            <input id="cust-phone" placeholder="Phone number" />
          </div>
          <div>
            <label for="cust-address">Address</label>
            <textarea id="cust-address" rows="3" placeholder="Delivery address"></textarea>
          </div>
        </div>

        <!-- Payment methods -->
        <div class="payment-methods">
          <div class="payment-methods-title">Payment Method</div>
          <label class="payment-option">
            <input type="radio" name="payment" value="PhonePe" />
            PhonePe (UPI)
          </label>
          <label class="payment-option">
            <input type="radio" name="payment" value="Google Pay" />
            Google Pay (UPI)
          </label>
          <label class="payment-option">
            <input type="radio" name="payment" value="Cash on Delivery" checked />
            Cash on Delivery (COD)
          </label>
          <div class="upi-info">
            UPI Mobile Number: <strong>70755 35180</strong><br/>
            UPI ID: <strong>tarunkrishna7651@ybl</strong><br/>
            For PhonePe / Google Pay, we‚Äôll also send a UPI payment link in WhatsApp.
          </div>
        </div>

        <!-- This button will send order on WhatsApp with selected payment method -->
        <button id="btn-wa-order" class="btn-checkout">
          Place Order on WhatsApp
        </button>
      </aside>

      <!-- Reviews column -->
      <section class="reviews-section" id="reviews">
        <div class="reviews-header">
          <div>
            <div class="reviews-title">Customer Reviews</div>
            <div class="reviews-subtitle">Real feedback from homes that love SRK Pickles.</div>
          </div>
          <div class="reviews-summary">
            <div class="reviews-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="reviews-count">4.9/5 based on 120+ orders</div>
          </div>
        </div>

        <div class="reviews-grid">
          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="review-text">
              ‚ÄúGongura and Mango (with garlic) are just like my mom used to make. Perfect spice and very fresh.‚Äù
            </div>
            <div class="review-user">
              <span>Bhavani,</span> Vijayawada
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="review-text">
              ‚ÄúKandi podi and Idly chutney podi are must-try! Our breakfast became so easy and tasty.‚Äù
            </div>
            <div class="review-user">
              <span>Ramesh &amp; Priya,</span> Hyderabad
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <div class="review-text">
              ‚ÄúPacking was neat, no leakage. Bellam Avakaya is our family favourite now.‚Äù
            </div>
            <div class="review-user">
              <span>Sowjanya,</span> Bengaluru
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="review-text">
              ‚ÄúGinger pickle is a killer with hot rice and ghee. Ordered again for my parents too.‚Äù
            </div>
            <div class="review-user">
              <span>Tarun,</span> Guntur
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="review-text">
              ‚ÄúLoved the homemade taste. No strong preservatives smell, just pure Andhra flavours.‚Äù
            </div>
            <div class="review-user">
              <span>Meghana,</span> Visakhapatnam
            </div>
          </article>

          <article class="review-card">
            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <div class="review-text">
              ‚ÄúDelivery was a day late but the taste made up for it. Tomato and Lemon pickle are superb.‚Äù
            </div>
            <div class="review-user">
              <span>Rahul,</span> Chennai
            </div>
          </article>
        </div>
      </section>
    </div>
  </div>

  <!-- QR Ordering Poster -->
  <section class="qr-poster">
    <h3>Scan to Order on WhatsApp</h3>
    <p>Show this QR in your shop or events. Customers can scan and chat directly with SRK Pickles.</p>
    <img
      src="https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=https%3A%2F%2Fwa.me%2F917075535180"
      alt="WhatsApp Order QR"
    />
    <p>WhatsApp: +91 70755 35180</p>
  </section>

  <!-- Info / Policy Sections -->
  <section id="cancellation" class="info-section">
    <h3>Cancellation & Refunds</h3>
    <p>
      Orders can be cancelled within <strong>2 hours</strong> of placing the order by contacting us on WhatsApp.
      Once the order is packed or shipped, cancellation may not be possible.
    </p>
    <p>Refunds are processed only for:</p>
    <ul>
      <li>Wrong product delivered</li>
      <li>Damaged or leaked packages (with unboxing photos/video proof)</li>
      <li>Order cancelled before dispatch</li>
    </ul>
    <p>
      Approved refunds will be initiated within <strong>5‚Äì7 working days</strong> to the original payment method.
    </p>
  </section>

  <section id="terms" class="info-section">
    <h3>Terms and Conditions</h3>
    <ul>
      <li>All products are homemade and prepared in small batches.</li>
      <li>Prices, offers and availability are subject to change without prior notice.</li>
      <li>Weights mentioned (500gm / 1kg) are approximate net weights at the time of packing.</li>
      <li>By placing an order, you agree to share your contact & address details for delivery and updates.</li>
      <li>In case of disputes, decision of SRK Pickles will be final.</li>
    </ul>
  </section>

  <section id="shipping" class="info-section">
    <h3>Shipping</h3>
    <p>
      We currently ship within India only. Shipping charges are calculated as per the rule mentioned above.
      In some remote locations, additional charges may apply ‚Äì we will inform you on WhatsApp before dispatch.
    </p>
    <p>
      Orders are usually dispatched within <strong>2‚Äì4 working days</strong>. Delivery time depends on your location
      and courier service (typically 3‚Äì7 days after dispatch).
    </p>
    <p>
      Once your order is shipped, tracking details will be shared on WhatsApp wherever available.
    </p>
  </section>

  <section id="privacy" class="info-section">
    <h3>Privacy</h3>
    <p>We value your privacy. Your name, phone number, address and order details are used only for:</p>
    <ul>
      <li>Processing and delivering your orders</li>
      <li>Order updates or support over WhatsApp / phone</li>
      <li>Occasional updates about offers (only if you choose to receive them)</li>
    </ul>
    <p>
      We do not sell or share your personal information with any third parties, except courier and payment partners
      who need the data to fulfil your order.
    </p>
  </section>

  <section id="contact" class="info-section">
    <h3>Contact Us</h3>
    <p>Have a question about orders, payments or custom combos? Reach out to us:</p>
    <ul>
      <li><strong>WhatsApp:</strong> <a href="https://wa.me/917075535180" target="_blank">+91 70755 35180</a></li>
      <li><strong>Email:</strong> <a href="mailto:srkpicklescare@gmail.com">srkpicklescare@gmail.com</a></li>
      <li><strong>Timings:</strong> 9:00 AM ‚Äì 8:00 PM (IST), all days</li>
    </ul>
    <p>You can also use the cart form above, place your order, and we will confirm everything on WhatsApp.</p>
  </section>

  <footer>
    ¬© SRK Pickles ‚Ä¢ Handmade in India ‚Ä¢ Hosted on GitHub Pages
    <div class="footer-links">
      <a href="#cancellation">Cancellation & Refunds</a>
      <a href="#terms">Terms & Conditions</a>
      <a href="#shipping">Shipping</a>
      <a href="#privacy">Privacy</a>
      <a href="#contact">Contact Us</a>
    </div>
  </footer>
</main>

<!-- Floating WhatsApp quick-chat button -->
<a href="https://wa.me/917075535180" class="wa-float" target="_blank">üí¨</a>

<script>
  /* ========= CONFIG ========= */

  // Optional: Google Sheets order logging
  const SHEETS_WEBHOOK_URL = "YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE";

  // Your WhatsApp number (for orders)
  const OWNER_WHATSAPP_NUMBER = "917075535180";

  // UPI details (linked to 7075535180)
  const UPI_ID = "tarunkrishna7651@ybl";
  const UPI_MOBILE = "7075535180";

  /* ========= PRODUCT DATA ========= */
  const IMAGE_MAP = {
    "mango-garlic": "images/mango-garlic.jpg",
    "mango-no-garlic": "images/mango-plain.jpg",
    "magaya": "images/magaya.jpg",
    "bellam-avakaya": "images/bellam-avakaya.jpg",
    "tomato": "images/tomato.jpg",
    "gongura": "images/gongura.jpg",
    "ginger": "images/ginger.jpg",
    "red-chilli": "images/red-chilli.jpg",
    "tamarind": "images/tamarind.jpg",
    "amla": "images/amla.jpg",
    "lemon": "images/lemon.jpg",
    "kandi-podi": "images/kandi-podi.jpg",
    "karapu-podi": "images/karapu-podi.jpg",
    "karivepaku-podi": "images/karivepaku-podi.jpg",
    "idly-chutney-podi": "images/idly-chutney-podi.jpg",
    "sambar-podi": "images/sambar-podi.jpg",
    "rasam-podi": "images/rasam-podi.jpg"
  };

  const PRODUCTS = [
    // Pickles
    { id:"mango-garlic", category:"pickles", name:"Mango Pickle (With Garlic)", desc:"Classic taste that stays with you forever - best of all.", prices:{ "500":400, "1000":800 } },
    { id:"mango-no-garlic", category:"pickles", name:"Mango Pickle (Without Garlic)", desc:"Classic taste that stays with you forever - best of all.", prices:{ "500":350, "1000":700 } },
    { id:"magaya", category:"pickles", name:"Magaya Pickle", desc:"Sun-dried Mango pickle. An aromatic preparation that is an all-time favourite.", prices:{ "500":350, "1000":700 } },
    { id:"bellam-avakaya", category:"pickles", name:"Bellam Avakaya", desc:"Sweet Avakaya. Blend of classic Avakaya & jaggery.", prices:{ "500":400, "1000":800 } },
    { id:"tomato", category:"pickles", name:"Tomato Pickle", desc:"Spicy, tangy and savoury tomato pickle.", prices:{ "500":350, "1000":700 } },
    { id:"gongura", category:"pickles", name:"Gongura Pickle", desc:"Sorrel Leaves pickle, heartthrob of Telugu people.", prices:{ "500":350, "1000":700 } },
    { id:"ginger", category:"pickles", name:"Ginger Pickle", desc:"Sweet and spicy ginger pickle for anytime and anything.", prices:{ "500":350, "1000":700 } },
    { id:"red-chilli", category:"pickles", name:"Red Chilli Pickle", desc:"Red Chilli Pickle, Korivi Karam ‚Äì spicy earthy flavour.", prices:{ "500":350, "1000":700 } },
    { id:"tamarind", category:"pickles", name:"Tamarind Pickle", desc:"Sharp, spicy and tangy flavoured pickle.", prices:{ "500":350, "1000":700 } },
    { id:"amla", category:"pickles", name:"Amla Pickle", desc:"Spicy, tangy amla pickle.", prices:{ "500":350, "1000":700 } },
    { id:"lemon", category:"pickles", name:"Lemon Pickle", desc:"Juicy marinated lemon pickle.", prices:{ "500":350, "1000":700 } },

    // Powders
    { id:"kandi-podi", category:"powders", name:"Kandi Podi", desc:"Toor Dal Powder ‚Äì spicy lentil powder.", prices:{ "500":300, "1000":600 } },
    { id:"karapu-podi", category:"powders", name:"Karapu podi (Nalla karam)", desc:"Hot, spicy and tangy powder.", prices:{ "500":300, "1000":600 } },
    { id:"karivepaku-podi", category:"powders", name:"Karivepaku podi", desc:"Curry Leaves Powder ‚Äì sour and spicy.", prices:{ "500":300, "1000":600 } },
    { id:"idly-chutney-podi", category:"powders", name:"Idly chutney podi", desc:"Flavourful spicy chutney powder.", prices:{ "500":300, "1000":600 } },
    { id:"sambar-podi", category:"powders", name:"Sambar podi", desc:"Traditional sambar powder.", prices:{ "500":300, "1000":600 } },
    { id:"rasam-podi", category:"powders", name:"Rasam podi", desc:"Flavourful, spicy and aromatic rasam powder.", prices:{ "500":300, "1000":600 } }
  ];

  /* ========= RENDER PRODUCTS ========= */

  function makeProductCard(product) {
    const card = document.createElement("div");
    card.className = "product-card";

    const img = document.createElement("img");
    img.src = IMAGE_MAP[product.id] || "srk-logo.png";
    img.alt = product.name;
    card.appendChild(img);

    const info = document.createElement("div");

    const h4 = document.createElement("h4");
    h4.textContent = product.name;
    info.appendChild(h4);

    // Badge for popular items
    if (product.id === "mango-garlic" || product.id === "gongura") {
      const badge = document.createElement("div");
      badge.textContent = "Bestseller";
      badge.style.display = "inline-block";
      badge.style.fontSize = "11px";
      badge.style.fontWeight = "700";
      badge.style.color = "#c0392b";
      badge.style.background = "#ffe9df";
      badge.style.borderRadius = "999px";
      badge.style.padding = "2px 8px";
      badge.style.marginBottom = "4px";
      info.appendChild(badge);
    }

    const desc = document.createElement("div");
    desc.className = "product-desc";
    desc.textContent = product.desc;
    info.appendChild(desc);

    const priceLine = document.createElement("div");
    priceLine.className = "price-line";
    priceLine.innerHTML =
      '<span class="price-main">Rs.' + product.prices["1000"] +
      '/kg</span> | Rs.' + product.prices["500"] + '/500gm';
    info.appendChild(priceLine);

    const actions = document.createElement("div");
    actions.className = "product-actions";

    const sizeSelect = document.createElement("select");
    const opt1 = document.createElement("option");
    opt1.value = "1000";
    opt1.textContent = "1 kg ‚Äì Rs." + product.prices["1000"];
    const opt2 = document.createElement("option");
    opt2.value = "500";
    opt2.textContent = "500 gm ‚Äì Rs." + product.prices["500"];
    sizeSelect.appendChild(opt1);
    sizeSelect.appendChild(opt2);

    const qtyInput = document.createElement("input");
    qtyInput.type = "number";
    qtyInput.min = "1";
    qtyInput.value = "1";

    const addBtn = document.createElement("button");
    addBtn.className = "btn-add";
    addBtn.textContent = "ADD TO CART";

    addBtn.addEventListener("click", function () {
      const size = sizeSelect.value;
      const qty = parseInt(qtyInput.value, 10) || 1;
      addToCart(product, size, qty);
    });

    actions.appendChild(sizeSelect);
    actions.appendChild(qtyInput);
    actions.appendChild(addBtn);

    info.appendChild(actions);
    card.appendChild(info);
    return card;
  }

  function renderProducts() {
    const picklesList = document.getElementById("pickles-list");
    const powdersList = document.getElementById("powders-list");
    picklesList.innerHTML = "";
    powdersList.innerHTML = "";

    const searchValue = document.getElementById("search").value.toLowerCase();

    for (let i = 0; i < PRODUCTS.length; i++) {
      const p = PRODUCTS[i];
      const match =
        !searchValue ||
        p.name.toLowerCase().indexOf(searchValue) !== -1 ||
        p.desc.toLowerCase().indexOf(searchValue) !== -1;

      if (!match) continue;

      const card = makeProductCard(p);
      if (p.category === "pickles") picklesList.appendChild(card);
      else powdersList.appendChild(card);
    }
  }

  /* ========= CART ========= */

  let CART = [];

  function addToCart(product, size, qty) {
    const key = product.id + "|" + size;
    let existing = null;
    for (let i = 0; i < CART.length; i++) {
      if (CART[i].key === key) {
        existing = CART[i];
        break;
      }
    }
    const unitPrice = product.prices[size];
    if (!unitPrice) return;

    if (existing) {
      existing.qty += qty;
    } else {
      CART.push({
        key: key,
        name: product.name,
        size: size,
        qty: qty,
        unitPrice: unitPrice
      });
    }
    renderCart();
  }

  function calculateDelivery(subtotal) {
    if (subtotal >= 1200) return 0;
    return 80;
  }

  function getTotals() {
    let subtotal = 0;
    let totalQty = 0;
    for (let i = 0; i < CART.length; i++) {
      subtotal += CART[i].unitPrice * CART[i].qty;
      totalQty += CART[i].qty;
    }
    const delivery = calculateDelivery(subtotal);
    const grand = subtotal + delivery;
    return { subtotal, delivery, grand, totalQty };
  }

  function renderCart() {
    const cartItemsDiv = document.getElementById("cart-items");
    const cartCountSpan = document.getElementById("cart-count");
    const subtotalSpan = document.getElementById("cart-subtotal");
    const deliverySpan = document.getElementById("cart-delivery");
    const grandSpan = document.getElementById("cart-grand");

    if (!CART.length) {
      cartItemsDiv.className = "cart-items cart-empty";
      cartItemsDiv.textContent = "No items in cart";
      cartCountSpan.textContent = "0";
      subtotalSpan.textContent = "Rs. 0";
      deliverySpan.textContent = "Rs. 0";
      grandSpan.textContent = "Rs. 0";
      return;
    }

    cartItemsDiv.className = "cart-items";
    cartItemsDiv.innerHTML = "";

    const totals = getTotals();

    for (let i = 0; i < CART.length; i++) {
      const item = CART[i];

      const row = document.createElement("div");
      row.className = "cart-row";

      const left = document.createElement("div");
      const title = document.createElement("div");
      title.className = "cart-row-title";
      title.textContent = item.name;
      const sub = document.createElement("div");
      sub.className = "cart-row-sub";
      const sizeLabel = item.size === "1000" ? "1 kg" : "500 gm";
      sub.textContent = sizeLabel + " √ó " + item.qty;
      left.appendChild(title);
      left.appendChild(sub);

      const right = document.createElement("div");
      const amount = document.createElement("div");
      amount.textContent = "Rs." + (item.unitPrice * item.qty);

      const controls = document.createElement("div");
      controls.className = "cart-row-controls";

      (function(index){
        const minusBtn = document.createElement("button");
        minusBtn.textContent = "-";
        minusBtn.addEventListener("click", function () {
          CART[index].qty -= 1;
          if (CART[index].qty <= 0) CART.splice(index, 1);
          renderCart();
        });

        const plusBtn = document.createElement("button");
        plusBtn.textContent = "+";
        plusBtn.addEventListener("click", function () {
          CART[index].qty += 1;
          renderCart();
        });

        const removeBtn = document.createElement("button");
        removeBtn.textContent = "x";
        removeBtn.addEventListener("click", function () {
          CART.splice(index, 1);
          renderCart();
        });

        controls.appendChild(minusBtn);
        controls.appendChild(plusBtn);
        controls.appendChild(removeBtn);
      })(i);

      right.appendChild(amount);
      right.appendChild(controls);

      row.appendChild(left);
      row.appendChild(right);
      cartItemsDiv.appendChild(row);
    }

    const totalsNow = getTotals();
    cartCountSpan.textContent = String(totalsNow.totalQty);
    subtotalSpan.textContent = "Rs. " + totalsNow.subtotal;
    deliverySpan.textContent = "Rs. " + totalsNow.delivery;
    grandSpan.textContent = "Rs. " + totalsNow.grand;
  }

  /* ========= GOOGLE SHEETS (optional) ========= */

  function sendOrderToGoogleSheets(orderData) {
    if (!SHEETS_WEBHOOK_URL || SHEETS_WEBHOOK_URL.indexOf("YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE") !== -1) {
      console.warn("Google Sheets webhook URL not configured.");
      return;
    }
    try {
      fetch(SHEETS_WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(orderData)
      }).catch(function(err) {
        console.error("Sheets error:", err);
      });
    } catch (e) {
      console.error("Sheets error:", e);
    }
  }

  /* ========= WHATSAPP MESSAGE BUILDER ========= */

  function getSelectedPaymentMethod() {
    const radios = document.querySelectorAll('input[name="payment"]');
    for (let i = 0; i < radios.length; i++) {
      if (radios[i].checked) return radios[i].value;
    }
    return null;
  }

  function buildUpiLink(totalAmount) {
    const params = new URLSearchParams({
      pa: UPI_ID,
      pn: "SRK Pickles",
      am: String(totalAmount),
      cu: "INR",
      tn: "SRK Pickles Order"
    });
    return "upi://pay?" + params.toString();
  }

  function buildWhatsAppMessage(name, phone, addr, paymentMethod, totals) {
    let text = "New SRK Pickles Order%0A%0A";
    text += "Name: " + encodeURIComponent(name) + "%0A";
    text += "Phone: " + encodeURIComponent(phone) + "%0A";
    text += "Address: " + encodeURIComponent(addr) + "%0A";
    text += "Payment Method: " + encodeURIComponent(paymentMethod) + "%0A%0A";

    text += "Items:%0A";
    for (let i = 0; i < CART.length; i++) {
      const item = CART[i];
      const sizeLabel = item.size === "1000" ? "1 kg" : "500 gm";
      const line =
        "- " + item.name + " (" + sizeLabel + ") x " + item.qty +
        " = Rs." + (item.unitPrice * item.qty);
      text += encodeURIComponent(line) + "%0A";
    }

    text += "%0ASubtotal: Rs." + totals.subtotal;
    text += "%0ADelivery: Rs." + totals.delivery;
    text += "%0ATotal: Rs." + totals.grand;

    if (paymentMethod === "PhonePe" || paymentMethod === "Google Pay") {
      const upiLink = buildUpiLink(totals.grand);
      text += "%0A%0AUPI Mobile: " + encodeURIComponent(UPI_MOBILE);
      text += "%0AUPI ID: " + encodeURIComponent(UPI_ID);
      text += "%0AUPI Payment Link (tap to pay):%0A" + encodeURIComponent(upiLink);
      text += "%0A%0A(Note: Once paid, please share payment screenshot / UTR on WhatsApp.)";
    }

    return text;
  }

  /* ========= WHATSAPP ORDER FLOW ========= */

  function sendOrderOnWhatsApp() {
    if (!CART.length) {
      alert("Please add at least one item to the cart.");
      return;
    }

    const name = document.getElementById("cust-name").value.trim();
    const phone = document.getElementById("cust-phone").value.trim();
    const addr = document.getElementById("cust-address").value.trim();
    const paymentMethod = getSelectedPaymentMethod();

    if (!name || !phone || !addr) {
      alert("Please fill Name, Phone and Address.");
      return;
    }
    if (!paymentMethod) {
      alert("Please select a payment method.");
      return;
    }

    const totals = getTotals();
    if (totals.grand <= 0) {
      alert("Total amount is zero.");
      return;
    }

    const orderPayload = {
      name: name,
      phone: phone,
      address: addr,
      cart: CART,
      subtotal: totals.subtotal,
      delivery: totals.delivery,
      total: totals.grand,
      paymentMethod: paymentMethod,
      createdAt: new Date().toISOString()
    };
    sendOrderToGoogleSheets(orderPayload);

    const msg = buildWhatsAppMessage(name, phone, addr, paymentMethod, totals);
    const url = "https://wa.me/" + OWNER_WHATSAPP_NUMBER + "?text=" + msg;
    window.open(url, "_blank");
  }

  /* ========= INIT ========= */

  document.getElementById("btn-wa-order").addEventListener("click", sendOrderOnWhatsApp);
  document.getElementById("search").addEventListener("input", renderProducts);

  // Cart button scrolls to cart
  document.getElementById("cart-button").addEventListener("click", function () {
    const cartBox = document.querySelector(".cart-box");
    if (cartBox) {
      cartBox.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  });

  renderProducts();
  renderCart();
</script>
</body>
</html>
